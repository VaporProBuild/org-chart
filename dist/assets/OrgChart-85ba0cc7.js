import{_ as nt,r as yt,o as E,c as k,a as g,w as ht,v as ft,b as N,F as yr,d as _r,e as G,t as O,f as Ei,p as ne,g as re,h as W,i as Pt,j as bi,n as xr,k as ki,l as Si,m as Ct}from"./index-ac9efbfc.js";function vr(t,n){return function(){return t.apply(n,arguments)}}const{toString:Ai}=Object.prototype,{getPrototypeOf:gn}=Object,Te=(t=>n=>{const e=Ai.call(n);return t[e]||(t[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),at=t=>(t=t.toLowerCase(),n=>Te(n)===t),Me=t=>n=>typeof n===t,{isArray:Ut}=Array,Kt=Me("undefined");function Ci(t){return t!==null&&!Kt(t)&&t.constructor!==null&&!Kt(t.constructor)&&K(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const wr=at("ArrayBuffer");function Ni(t){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(t):n=t&&t.buffer&&wr(t.buffer),n}const Ti=Me("string"),K=Me("function"),Er=Me("number"),Re=t=>t!==null&&typeof t=="object",Mi=t=>t===!0||t===!1,fe=t=>{if(Te(t)!=="object")return!1;const n=gn(t);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ri=at("Date"),$i=at("File"),Di=at("Blob"),Oi=at("FileList"),Ii=t=>Re(t)&&K(t.pipe),Pi=t=>{let n;return t&&(typeof FormData=="function"&&t instanceof FormData||K(t.append)&&((n=Te(t))==="formdata"||n==="object"&&K(t.toString)&&t.toString()==="[object FormData]"))},zi=at("URLSearchParams"),Bi=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ie(t,n,{allOwnKeys:e=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ut(t))for(r=0,i=t.length;r<i;r++)n.call(null,t[r],r,t);else{const o=e?Object.getOwnPropertyNames(t):Object.keys(t),s=o.length;let a;for(r=0;r<s;r++)a=o[r],n.call(null,t[a],a,t)}}function br(t,n){n=n.toLowerCase();const e=Object.keys(t);let r=e.length,i;for(;r-- >0;)if(i=e[r],n===i.toLowerCase())return i;return null}const kr=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Sr=t=>!Kt(t)&&t!==kr;function Ze(){const{caseless:t}=Sr(this)&&this||{},n={},e=(r,i)=>{const o=t&&br(n,i)||i;fe(n[o])&&fe(r)?n[o]=Ze(n[o],r):fe(r)?n[o]=Ze({},r):Ut(r)?n[o]=r.slice():n[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ie(arguments[r],e);return n}const Fi=(t,n,e,{allOwnKeys:r}={})=>(ie(n,(i,o)=>{e&&K(i)?t[o]=vr(i,e):t[o]=i},{allOwnKeys:r}),t),Li=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ui=(t,n,e,r)=>{t.prototype=Object.create(n.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:n.prototype}),e&&Object.assign(t.prototype,e)},Hi=(t,n,e,r)=>{let i,o,s;const a={};if(n=n||{},t==null)return n;do{for(i=Object.getOwnPropertyNames(t),o=i.length;o-- >0;)s=i[o],(!r||r(s,t,n))&&!a[s]&&(n[s]=t[s],a[s]=!0);t=e!==!1&&gn(t)}while(t&&(!e||e(t,n))&&t!==Object.prototype);return n},qi=(t,n,e)=>{t=String(t),(e===void 0||e>t.length)&&(e=t.length),e-=n.length;const r=t.indexOf(n,e);return r!==-1&&r===e},Xi=t=>{if(!t)return null;if(Ut(t))return t;let n=t.length;if(!Er(n))return null;const e=new Array(n);for(;n-- >0;)e[n]=t[n];return e},Yi=(t=>n=>t&&n instanceof t)(typeof Uint8Array<"u"&&gn(Uint8Array)),Wi=(t,n)=>{const r=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=r.next())&&!i.done;){const o=i.value;n.call(t,o[0],o[1])}},ji=(t,n)=>{let e;const r=[];for(;(e=t.exec(n))!==null;)r.push(e);return r},Vi=at("HTMLFormElement"),Ji=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,r,i){return r.toUpperCase()+i}),zn=(({hasOwnProperty:t})=>(n,e)=>t.call(n,e))(Object.prototype),Gi=at("RegExp"),Ar=(t,n)=>{const e=Object.getOwnPropertyDescriptors(t),r={};ie(e,(i,o)=>{let s;(s=n(i,o,t))!==!1&&(r[o]=s||i)}),Object.defineProperties(t,r)},Ki=t=>{Ar(t,(n,e)=>{if(K(t)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const r=t[e];if(K(r)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},Zi=(t,n)=>{const e={},r=i=>{i.forEach(o=>{e[o]=!0})};return Ut(t)?r(t):r(String(t).split(n)),e},Qi=()=>{},to=(t,n)=>(t=+t,Number.isFinite(t)?t:n),Ue="abcdefghijklmnopqrstuvwxyz",Bn="0123456789",Cr={DIGIT:Bn,ALPHA:Ue,ALPHA_DIGIT:Ue+Ue.toUpperCase()+Bn},eo=(t=16,n=Cr.ALPHA_DIGIT)=>{let e="";const{length:r}=n;for(;t--;)e+=n[Math.random()*r|0];return e};function no(t){return!!(t&&K(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const ro=t=>{const n=new Array(10),e=(r,i)=>{if(Re(r)){if(n.indexOf(r)>=0)return;if(!("toJSON"in r)){n[i]=r;const o=Ut(r)?[]:{};return ie(r,(s,a)=>{const u=e(s,i+1);!Kt(u)&&(o[a]=u)}),n[i]=void 0,o}}return r};return e(t,0)},io=at("AsyncFunction"),oo=t=>t&&(Re(t)||K(t))&&K(t.then)&&K(t.catch),_={isArray:Ut,isArrayBuffer:wr,isBuffer:Ci,isFormData:Pi,isArrayBufferView:Ni,isString:Ti,isNumber:Er,isBoolean:Mi,isObject:Re,isPlainObject:fe,isUndefined:Kt,isDate:Ri,isFile:$i,isBlob:Di,isRegExp:Gi,isFunction:K,isStream:Ii,isURLSearchParams:zi,isTypedArray:Yi,isFileList:Oi,forEach:ie,merge:Ze,extend:Fi,trim:Bi,stripBOM:Li,inherits:Ui,toFlatObject:Hi,kindOf:Te,kindOfTest:at,endsWith:qi,toArray:Xi,forEachEntry:Wi,matchAll:ji,isHTMLForm:Vi,hasOwnProperty:zn,hasOwnProp:zn,reduceDescriptors:Ar,freezeMethods:Ki,toObjectSet:Zi,toCamelCase:Ji,noop:Qi,toFiniteNumber:to,findKey:br,global:kr,isContextDefined:Sr,ALPHABET:Cr,generateString:eo,isSpecCompliantForm:no,toJSONObject:ro,isAsyncFn:io,isThenable:oo};function I(t,n,e,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",n&&(this.code=n),e&&(this.config=e),r&&(this.request=r),i&&(this.response=i)}_.inherits(I,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Nr=I.prototype,Tr={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Tr[t]={value:t}});Object.defineProperties(I,Tr);Object.defineProperty(Nr,"isAxiosError",{value:!0});I.from=(t,n,e,r,i,o)=>{const s=Object.create(Nr);return _.toFlatObject(t,s,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),I.call(s,t.message,n,e,r,i),s.cause=t,s.name=t.name,o&&Object.assign(s,o),s};const so=null;function Qe(t){return _.isPlainObject(t)||_.isArray(t)}function Mr(t){return _.endsWith(t,"[]")?t.slice(0,-2):t}function Fn(t,n,e){return t?t.concat(n).map(function(i,o){return i=Mr(i),!e&&o?"["+i+"]":i}).join(e?".":""):n}function ao(t){return _.isArray(t)&&!t.some(Qe)}const lo=_.toFlatObject(_,{},null,function(n){return/^is[A-Z]/.test(n)});function $e(t,n,e){if(!_.isObject(t))throw new TypeError("target must be an object");n=n||new FormData,e=_.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,S){return!_.isUndefined(S[y])});const r=e.metaTokens,i=e.visitor||l,o=e.dots,s=e.indexes,u=(e.Blob||typeof Blob<"u"&&Blob)&&_.isSpecCompliantForm(n);if(!_.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(_.isDate(m))return m.toISOString();if(!u&&_.isBlob(m))throw new I("Blob is not supported. Use a Buffer instead.");return _.isArrayBuffer(m)||_.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function l(m,y,S){let w=m;if(m&&!S&&typeof m=="object"){if(_.endsWith(y,"{}"))y=r?y:y.slice(0,-2),m=JSON.stringify(m);else if(_.isArray(m)&&ao(m)||(_.isFileList(m)||_.endsWith(y,"[]"))&&(w=_.toArray(m)))return y=Mr(y),w.forEach(function(M,R){!(_.isUndefined(M)||M===null)&&n.append(s===!0?Fn([y],R,o):s===null?y:y+"[]",c(M))}),!1}return Qe(m)?!0:(n.append(Fn(S,y,o),c(m)),!1)}const d=[],f=Object.assign(lo,{defaultVisitor:l,convertValue:c,isVisitable:Qe});function h(m,y){if(!_.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(m),_.forEach(m,function(w,C){(!(_.isUndefined(w)||w===null)&&i.call(n,w,_.isString(C)?C.trim():C,y,f))===!0&&h(w,y?y.concat(C):[C])}),d.pop()}}if(!_.isObject(t))throw new TypeError("data must be an object");return h(t),n}function Ln(t){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return n[r]})}function yn(t,n){this._pairs=[],t&&$e(t,this,n)}const Rr=yn.prototype;Rr.append=function(n,e){this._pairs.push([n,e])};Rr.toString=function(n){const e=n?function(r){return n.call(this,r,Ln)}:Ln;return this._pairs.map(function(i){return e(i[0])+"="+e(i[1])},"").join("&")};function co(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function $r(t,n,e){if(!n)return t;const r=e&&e.encode||co,i=e&&e.serialize;let o;if(i?o=i(n,e):o=_.isURLSearchParams(n)?n.toString():new yn(n,e).toString(r),o){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class uo{constructor(){this.handlers=[]}use(n,e,r){return this.handlers.push({fulfilled:n,rejected:e,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){_.forEach(this.handlers,function(r){r!==null&&n(r)})}}const Un=uo,Dr={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ho=typeof URLSearchParams<"u"?URLSearchParams:yn,fo=typeof FormData<"u"?FormData:null,po=typeof Blob<"u"?Blob:null,mo={isBrowser:!0,classes:{URLSearchParams:ho,FormData:fo,Blob:po},protocols:["http","https","file","blob","url","data"]},Or=typeof window<"u"&&typeof document<"u",go=(t=>Or&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),yo=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),_o=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Or,hasStandardBrowserEnv:go,hasStandardBrowserWebWorkerEnv:yo},Symbol.toStringTag,{value:"Module"})),ot={..._o,...mo};function xo(t,n){return $e(t,new ot.classes.URLSearchParams,Object.assign({visitor:function(e,r,i,o){return ot.isNode&&_.isBuffer(e)?(this.append(r,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},n))}function vo(t){return _.matchAll(/\w+|\[(\w*)]/g,t).map(n=>n[0]==="[]"?"":n[1]||n[0])}function wo(t){const n={},e=Object.keys(t);let r;const i=e.length;let o;for(r=0;r<i;r++)o=e[r],n[o]=t[o];return n}function Ir(t){function n(e,r,i,o){let s=e[o++];const a=Number.isFinite(+s),u=o>=e.length;return s=!s&&_.isArray(i)?i.length:s,u?(_.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!_.isObject(i[s]))&&(i[s]=[]),n(e,r,i[s],o)&&_.isArray(i[s])&&(i[s]=wo(i[s])),!a)}if(_.isFormData(t)&&_.isFunction(t.entries)){const e={};return _.forEachEntry(t,(r,i)=>{n(vo(r),i,e,0)}),e}return null}function Eo(t,n,e){if(_.isString(t))try{return(n||JSON.parse)(t),_.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(e||JSON.stringify)(t)}const _n={transitional:Dr,adapter:["xhr","http"],transformRequest:[function(n,e){const r=e.getContentType()||"",i=r.indexOf("application/json")>-1,o=_.isObject(n);if(o&&_.isHTMLForm(n)&&(n=new FormData(n)),_.isFormData(n))return i&&i?JSON.stringify(Ir(n)):n;if(_.isArrayBuffer(n)||_.isBuffer(n)||_.isStream(n)||_.isFile(n)||_.isBlob(n))return n;if(_.isArrayBufferView(n))return n.buffer;if(_.isURLSearchParams(n))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xo(n,this.formSerializer).toString();if((a=_.isFileList(n))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return $e(a?{"files[]":n}:n,u&&new u,this.formSerializer)}}return o||i?(e.setContentType("application/json",!1),Eo(n)):n}],transformResponse:[function(n){const e=this.transitional||_n.transitional,r=e&&e.forcedJSONParsing,i=this.responseType==="json";if(n&&_.isString(n)&&(r&&!this.responseType||i)){const s=!(e&&e.silentJSONParsing)&&i;try{return JSON.parse(n)}catch(a){if(s)throw a.name==="SyntaxError"?I.from(a,I.ERR_BAD_RESPONSE,this,null,this.response):a}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ot.classes.FormData,Blob:ot.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_.forEach(["delete","get","head","post","put","patch"],t=>{_n.headers[t]={}});const xn=_n,bo=_.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ko=t=>{const n={};let e,r,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),e=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!e||n[e]&&bo[e])&&(e==="set-cookie"?n[e]?n[e].push(r):n[e]=[r]:n[e]=n[e]?n[e]+", "+r:r)}),n},Hn=Symbol("internals");function Yt(t){return t&&String(t).trim().toLowerCase()}function pe(t){return t===!1||t==null?t:_.isArray(t)?t.map(pe):String(t)}function So(t){const n=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=e.exec(t);)n[r[1]]=r[2];return n}const Ao=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function He(t,n,e,r,i){if(_.isFunction(r))return r.call(this,n,e);if(i&&(n=e),!!_.isString(n)){if(_.isString(r))return n.indexOf(r)!==-1;if(_.isRegExp(r))return r.test(n)}}function Co(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,e,r)=>e.toUpperCase()+r)}function No(t,n){const e=_.toCamelCase(" "+n);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+e,{value:function(i,o,s){return this[r].call(this,n,i,o,s)},configurable:!0})})}class De{constructor(n){n&&this.set(n)}set(n,e,r){const i=this;function o(a,u,c){const l=Yt(u);if(!l)throw new Error("header name must be a non-empty string");const d=_.findKey(i,l);(!d||i[d]===void 0||c===!0||c===void 0&&i[d]!==!1)&&(i[d||u]=pe(a))}const s=(a,u)=>_.forEach(a,(c,l)=>o(c,l,u));return _.isPlainObject(n)||n instanceof this.constructor?s(n,e):_.isString(n)&&(n=n.trim())&&!Ao(n)?s(ko(n),e):n!=null&&o(e,n,r),this}get(n,e){if(n=Yt(n),n){const r=_.findKey(this,n);if(r){const i=this[r];if(!e)return i;if(e===!0)return So(i);if(_.isFunction(e))return e.call(this,i,r);if(_.isRegExp(e))return e.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,e){if(n=Yt(n),n){const r=_.findKey(this,n);return!!(r&&this[r]!==void 0&&(!e||He(this,this[r],r,e)))}return!1}delete(n,e){const r=this;let i=!1;function o(s){if(s=Yt(s),s){const a=_.findKey(r,s);a&&(!e||He(r,r[a],a,e))&&(delete r[a],i=!0)}}return _.isArray(n)?n.forEach(o):o(n),i}clear(n){const e=Object.keys(this);let r=e.length,i=!1;for(;r--;){const o=e[r];(!n||He(this,this[o],o,n,!0))&&(delete this[o],i=!0)}return i}normalize(n){const e=this,r={};return _.forEach(this,(i,o)=>{const s=_.findKey(r,o);if(s){e[s]=pe(i),delete e[o];return}const a=n?Co(o):String(o).trim();a!==o&&delete e[o],e[a]=pe(i),r[a]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const e=Object.create(null);return _.forEach(this,(r,i)=>{r!=null&&r!==!1&&(e[i]=n&&_.isArray(r)?r.join(", "):r)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,e])=>n+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...e){const r=new this(n);return e.forEach(i=>r.set(i)),r}static accessor(n){const r=(this[Hn]=this[Hn]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Yt(s);r[a]||(No(i,s),r[a]=!0)}return _.isArray(n)?n.forEach(o):o(n),this}}De.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_.reduceDescriptors(De.prototype,({value:t},n)=>{let e=n[0].toUpperCase()+n.slice(1);return{get:()=>t,set(r){this[e]=r}}});_.freezeMethods(De);const mt=De;function qe(t,n){const e=this||xn,r=n||e,i=mt.from(r.headers);let o=r.data;return _.forEach(t,function(a){o=a.call(e,o,i.normalize(),n?n.status:void 0)}),i.normalize(),o}function Pr(t){return!!(t&&t.__CANCEL__)}function oe(t,n,e){I.call(this,t??"canceled",I.ERR_CANCELED,n,e),this.name="CanceledError"}_.inherits(oe,I,{__CANCEL__:!0});function To(t,n,e){const r=e.config.validateStatus;!e.status||!r||r(e.status)?t(e):n(new I("Request failed with status code "+e.status,[I.ERR_BAD_REQUEST,I.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}const Mo=ot.hasStandardBrowserEnv?{write(t,n,e,r,i,o){const s=[t+"="+encodeURIComponent(n)];_.isNumber(e)&&s.push("expires="+new Date(e).toGMTString()),_.isString(r)&&s.push("path="+r),_.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(t){const n=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Ro(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $o(t,n){return n?t.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):t}function zr(t,n){return t&&!Ro(n)?$o(t,n):n}const Do=ot.hasStandardBrowserEnv?function(){const n=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a");let r;function i(o){let s=o;return n&&(e.setAttribute("href",s),s=e.href),e.setAttribute("href",s),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return r=i(window.location.href),function(s){const a=_.isString(s)?i(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function Oo(t){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return n&&n[1]||""}function Io(t,n){t=t||10;const e=new Array(t),r=new Array(t);let i=0,o=0,s;return n=n!==void 0?n:1e3,function(u){const c=Date.now(),l=r[o];s||(s=c),e[i]=u,r[i]=c;let d=o,f=0;for(;d!==i;)f+=e[d++],d=d%t;if(i=(i+1)%t,i===o&&(o=(o+1)%t),c-s<n)return;const h=l&&c-l;return h?Math.round(f*1e3/h):void 0}}function qn(t,n){let e=0;const r=Io(50,250);return i=>{const o=i.loaded,s=i.lengthComputable?i.total:void 0,a=o-e,u=r(a),c=o<=s;e=o;const l={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:u||void 0,estimated:u&&s&&c?(s-o)/u:void 0,event:i};l[n?"download":"upload"]=!0,t(l)}}const Po=typeof XMLHttpRequest<"u",zo=Po&&function(t){return new Promise(function(e,r){let i=t.data;const o=mt.from(t.headers).normalize();let{responseType:s,withXSRFToken:a}=t,u;function c(){t.cancelToken&&t.cancelToken.unsubscribe(u),t.signal&&t.signal.removeEventListener("abort",u)}let l;if(_.isFormData(i)){if(ot.hasStandardBrowserEnv||ot.hasStandardBrowserWebWorkerEnv)o.setContentType(!1);else if((l=o.getContentType())!==!1){const[y,...S]=l?l.split(";").map(w=>w.trim()).filter(Boolean):[];o.setContentType([y||"multipart/form-data",...S].join("; "))}}let d=new XMLHttpRequest;if(t.auth){const y=t.auth.username||"",S=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";o.set("Authorization","Basic "+btoa(y+":"+S))}const f=zr(t.baseURL,t.url);d.open(t.method.toUpperCase(),$r(f,t.params,t.paramsSerializer),!0),d.timeout=t.timeout;function h(){if(!d)return;const y=mt.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),w={data:!s||s==="text"||s==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:y,config:t,request:d};To(function(M){e(M),c()},function(M){r(M),c()},w),d=null}if("onloadend"in d?d.onloadend=h:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(h)},d.onabort=function(){d&&(r(new I("Request aborted",I.ECONNABORTED,t,d)),d=null)},d.onerror=function(){r(new I("Network Error",I.ERR_NETWORK,t,d)),d=null},d.ontimeout=function(){let S=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const w=t.transitional||Dr;t.timeoutErrorMessage&&(S=t.timeoutErrorMessage),r(new I(S,w.clarifyTimeoutError?I.ETIMEDOUT:I.ECONNABORTED,t,d)),d=null},ot.hasStandardBrowserEnv&&(a&&_.isFunction(a)&&(a=a(t)),a||a!==!1&&Do(f))){const y=t.xsrfHeaderName&&t.xsrfCookieName&&Mo.read(t.xsrfCookieName);y&&o.set(t.xsrfHeaderName,y)}i===void 0&&o.setContentType(null),"setRequestHeader"in d&&_.forEach(o.toJSON(),function(S,w){d.setRequestHeader(w,S)}),_.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),s&&s!=="json"&&(d.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&d.addEventListener("progress",qn(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",qn(t.onUploadProgress)),(t.cancelToken||t.signal)&&(u=y=>{d&&(r(!y||y.type?new oe(null,t,d):y),d.abort(),d=null)},t.cancelToken&&t.cancelToken.subscribe(u),t.signal&&(t.signal.aborted?u():t.signal.addEventListener("abort",u)));const m=Oo(f);if(m&&ot.protocols.indexOf(m)===-1){r(new I("Unsupported protocol "+m+":",I.ERR_BAD_REQUEST,t));return}d.send(i||null)})},tn={http:so,xhr:zo};_.forEach(tn,(t,n)=>{if(t){try{Object.defineProperty(t,"name",{value:n})}catch{}Object.defineProperty(t,"adapterName",{value:n})}});const Xn=t=>`- ${t}`,Bo=t=>_.isFunction(t)||t===null||t===!1,Br={getAdapter:t=>{t=_.isArray(t)?t:[t];const{length:n}=t;let e,r;const i={};for(let o=0;o<n;o++){e=t[o];let s;if(r=e,!Bo(e)&&(r=tn[(s=String(e)).toLowerCase()],r===void 0))throw new I(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,u])=>`adapter ${a} `+(u===!1?"is not supported by the environment":"is not available in the build"));let s=n?o.length>1?`since :
`+o.map(Xn).join(`
`):" "+Xn(o[0]):"as no adapter specified";throw new I("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:tn};function Xe(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new oe(null,t)}function Yn(t){return Xe(t),t.headers=mt.from(t.headers),t.data=qe.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Br.getAdapter(t.adapter||xn.adapter)(t).then(function(r){return Xe(t),r.data=qe.call(t,t.transformResponse,r),r.headers=mt.from(r.headers),r},function(r){return Pr(r)||(Xe(t),r&&r.response&&(r.response.data=qe.call(t,t.transformResponse,r.response),r.response.headers=mt.from(r.response.headers))),Promise.reject(r)})}const Wn=t=>t instanceof mt?t.toJSON():t;function zt(t,n){n=n||{};const e={};function r(c,l,d){return _.isPlainObject(c)&&_.isPlainObject(l)?_.merge.call({caseless:d},c,l):_.isPlainObject(l)?_.merge({},l):_.isArray(l)?l.slice():l}function i(c,l,d){if(_.isUndefined(l)){if(!_.isUndefined(c))return r(void 0,c,d)}else return r(c,l,d)}function o(c,l){if(!_.isUndefined(l))return r(void 0,l)}function s(c,l){if(_.isUndefined(l)){if(!_.isUndefined(c))return r(void 0,c)}else return r(void 0,l)}function a(c,l,d){if(d in n)return r(c,l);if(d in t)return r(void 0,c)}const u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,l)=>i(Wn(c),Wn(l),!0)};return _.forEach(Object.keys(Object.assign({},t,n)),function(l){const d=u[l]||i,f=d(t[l],n[l],l);_.isUndefined(f)&&d!==a||(e[l]=f)}),e}const Fr="1.6.2",vn={};["object","boolean","number","function","string","symbol"].forEach((t,n)=>{vn[t]=function(r){return typeof r===t||"a"+(n<1?"n ":" ")+t}});const jn={};vn.transitional=function(n,e,r){function i(o,s){return"[Axios v"+Fr+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(n===!1)throw new I(i(s," has been removed"+(e?" in "+e:"")),I.ERR_DEPRECATED);return e&&!jn[s]&&(jn[s]=!0,console.warn(i(s," has been deprecated since v"+e+" and will be removed in the near future"))),n?n(o,s,a):!0}};function Fo(t,n,e){if(typeof t!="object")throw new I("options must be an object",I.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const o=r[i],s=n[o];if(s){const a=t[o],u=a===void 0||s(a,o,t);if(u!==!0)throw new I("option "+o+" must be "+u,I.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new I("Unknown option "+o,I.ERR_BAD_OPTION)}}const en={assertOptions:Fo,validators:vn},vt=en.validators;class we{constructor(n){this.defaults=n,this.interceptors={request:new Un,response:new Un}}request(n,e){typeof n=="string"?(e=e||{},e.url=n):e=n||{},e=zt(this.defaults,e);const{transitional:r,paramsSerializer:i,headers:o}=e;r!==void 0&&en.assertOptions(r,{silentJSONParsing:vt.transitional(vt.boolean),forcedJSONParsing:vt.transitional(vt.boolean),clarifyTimeoutError:vt.transitional(vt.boolean)},!1),i!=null&&(_.isFunction(i)?e.paramsSerializer={serialize:i}:en.assertOptions(i,{encode:vt.function,serialize:vt.function},!0)),e.method=(e.method||this.defaults.method||"get").toLowerCase();let s=o&&_.merge(o.common,o[e.method]);o&&_.forEach(["delete","get","head","post","put","patch","common"],m=>{delete o[m]}),e.headers=mt.concat(s,o);const a=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(e)===!1||(u=u&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let l,d=0,f;if(!u){const m=[Yn.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,l=Promise.resolve(e);d<f;)l=l.then(m[d++],m[d++]);return l}f=a.length;let h=e;for(d=0;d<f;){const m=a[d++],y=a[d++];try{h=m(h)}catch(S){y.call(this,S);break}}try{l=Yn.call(this,h)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)l=l.then(c[d++],c[d++]);return l}getUri(n){n=zt(this.defaults,n);const e=zr(n.baseURL,n.url);return $r(e,n.params,n.paramsSerializer)}}_.forEach(["delete","get","head","options"],function(n){we.prototype[n]=function(e,r){return this.request(zt(r||{},{method:n,url:e,data:(r||{}).data}))}});_.forEach(["post","put","patch"],function(n){function e(r){return function(o,s,a){return this.request(zt(a||{},{method:n,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}we.prototype[n]=e(),we.prototype[n+"Form"]=e(!0)});const me=we;class wn{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},n(function(o,s,a){r.reason||(r.reason=new oe(o,s,a),e(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const e=this._listeners.indexOf(n);e!==-1&&this._listeners.splice(e,1)}static source(){let n;return{token:new wn(function(i){n=i}),cancel:n}}}const Lo=wn;function Uo(t){return function(e){return t.apply(null,e)}}function Ho(t){return _.isObject(t)&&t.isAxiosError===!0}const nn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nn).forEach(([t,n])=>{nn[n]=t});const qo=nn;function Lr(t){const n=new me(t),e=vr(me.prototype.request,n);return _.extend(e,me.prototype,n,{allOwnKeys:!0}),_.extend(e,n,null,{allOwnKeys:!0}),e.create=function(i){return Lr(zt(t,i))},e}const U=Lr(xn);U.Axios=me;U.CanceledError=oe;U.CancelToken=Lo;U.isCancel=Pr;U.VERSION=Fr;U.toFormData=$e;U.AxiosError=I;U.Cancel=U.CanceledError;U.all=function(n){return Promise.all(n)};U.spread=Uo;U.isAxiosError=Ho;U.mergeConfig=zt;U.AxiosHeaders=mt;U.formToJSON=t=>Ir(_.isHTMLForm(t)?new FormData(t):t);U.getAdapter=Br.getAdapter;U.HttpStatusCode=qo;U.default=U;const kt=U;var rn="http://www.w3.org/1999/xhtml";const Vn={svg:"http://www.w3.org/2000/svg",xhtml:rn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Oe(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),Vn.hasOwnProperty(n)?{space:Vn[n],local:t}:t}function Xo(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===rn&&n.documentElement.namespaceURI===rn?n.createElement(t):n.createElementNS(e,t)}}function Yo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ur(t){var n=Oe(t);return(n.local?Yo:Xo)(n)}function Wo(){}function En(t){return t==null?Wo:function(){return this.querySelector(t)}}function jo(t){typeof t!="function"&&(t=En(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=new Array(s),u,c,l=0;l<s;++l)(u=o[l])&&(c=t.call(u,u.__data__,l,o))&&("__data__"in u&&(c.__data__=u.__data__),a[l]=c);return new j(r,this._parents)}function Vo(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Jo(){return[]}function Hr(t){return t==null?Jo:function(){return this.querySelectorAll(t)}}function Go(t){return function(){return Vo(t.apply(this,arguments))}}function Ko(t){typeof t=="function"?t=Go(t):t=Hr(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var s=n[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&(r.push(t.call(u,u.__data__,c,s)),i.push(u));return new j(r,i)}function qr(t){return function(){return this.matches(t)}}function Xr(t){return function(n){return n.matches(t)}}var Zo=Array.prototype.find;function Qo(t){return function(){return Zo.call(this.children,t)}}function ts(){return this.firstElementChild}function es(t){return this.select(t==null?ts:Qo(typeof t=="function"?t:Xr(t)))}var ns=Array.prototype.filter;function rs(){return Array.from(this.children)}function is(t){return function(){return ns.call(this.children,t)}}function os(t){return this.selectAll(t==null?rs:is(typeof t=="function"?t:Xr(t)))}function ss(t){typeof t!="function"&&(t=qr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&a.push(u);return new j(r,this._parents)}function Yr(t){return new Array(t.length)}function as(){return new j(this._enter||this._groups.map(Yr),this._parents)}function Ee(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Ee.prototype={constructor:Ee,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function ls(t){return function(){return t}}function cs(t,n,e,r,i,o){for(var s=0,a,u=n.length,c=o.length;s<c;++s)(a=n[s])?(a.__data__=o[s],r[s]=a):e[s]=new Ee(t,o[s]);for(;s<u;++s)(a=n[s])&&(i[s]=a)}function us(t,n,e,r,i,o,s){var a,u,c=new Map,l=n.length,d=o.length,f=new Array(l),h;for(a=0;a<l;++a)(u=n[a])&&(f[a]=h=s.call(u,u.__data__,a,n)+"",c.has(h)?i[a]=u:c.set(h,u));for(a=0;a<d;++a)h=s.call(t,o[a],a,o)+"",(u=c.get(h))?(r[a]=u,u.__data__=o[a],c.delete(h)):e[a]=new Ee(t,o[a]);for(a=0;a<l;++a)(u=n[a])&&c.get(f[a])===u&&(i[a]=u)}function ds(t){return t.__data__}function hs(t,n){if(!arguments.length)return Array.from(this,ds);var e=n?us:cs,r=this._parents,i=this._groups;typeof t!="function"&&(t=ls(t));for(var o=i.length,s=new Array(o),a=new Array(o),u=new Array(o),c=0;c<o;++c){var l=r[c],d=i[c],f=d.length,h=fs(t.call(l,l&&l.__data__,c,r)),m=h.length,y=a[c]=new Array(m),S=s[c]=new Array(m),w=u[c]=new Array(f);e(l,d,y,S,w,h,n);for(var C=0,M=0,R,z;C<m;++C)if(R=y[C]){for(C>=M&&(M=C+1);!(z=S[M])&&++M<m;);R._next=z||null}}return s=new j(s,r),s._enter=a,s._exit=u,s}function fs(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ps(){return new j(this._exit||this._groups.map(Yr),this._parents)}function ms(t,n,e){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),n!=null&&(i=n(i),i&&(i=i.selection())),e==null?o.remove():e(o),r&&i?r.merge(i).order():i}function gs(t){for(var n=t.selection?t.selection():t,e=this._groups,r=n._groups,i=e.length,o=r.length,s=Math.min(i,o),a=new Array(i),u=0;u<s;++u)for(var c=e[u],l=r[u],d=c.length,f=a[u]=new Array(d),h,m=0;m<d;++m)(h=c[m]||l[m])&&(f[m]=h);for(;u<i;++u)a[u]=e[u];return new j(a,this._parents)}function ys(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r=t[n],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function _s(t){t||(t=xs);function n(d,f){return d&&f?t(d.__data__,f.__data__):!d-!f}for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var s=e[o],a=s.length,u=i[o]=new Array(a),c,l=0;l<a;++l)(c=s[l])&&(u[l]=c);u.sort(n)}return new j(i,this._parents).order()}function xs(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function vs(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ws(){return Array.from(this)}function Es(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function bs(){let t=0;for(const n of this)++t;return t}function ks(){return!this.node()}function Ss(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i=n[e],o=0,s=i.length,a;o<s;++o)(a=i[o])&&t.call(a,a.__data__,o,i);return this}function As(t){return function(){this.removeAttribute(t)}}function Cs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ns(t,n){return function(){this.setAttribute(t,n)}}function Ts(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ms(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function Rs(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function $s(t,n){var e=Oe(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((n==null?e.local?Cs:As:typeof n=="function"?e.local?Rs:Ms:e.local?Ts:Ns)(e,n))}function Wr(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ds(t){return function(){this.style.removeProperty(t)}}function Os(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Is(t,n,e){return function(){var r=n.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function Ps(t,n,e){return arguments.length>1?this.each((n==null?Ds:typeof n=="function"?Is:Os)(t,n,e??"")):Bt(this.node(),t)}function Bt(t,n){return t.style.getPropertyValue(n)||Wr(t).getComputedStyle(t,null).getPropertyValue(n)}function zs(t){return function(){delete this[t]}}function Bs(t,n){return function(){this[t]=n}}function Fs(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Ls(t,n){return arguments.length>1?this.each((n==null?zs:typeof n=="function"?Fs:Bs)(t,n)):this.node()[t]}function jr(t){return t.trim().split(/^|\s+/)}function bn(t){return t.classList||new Vr(t)}function Vr(t){this._node=t,this._names=jr(t.getAttribute("class")||"")}Vr.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Jr(t,n){for(var e=bn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Gr(t,n){for(var e=bn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function Us(t){return function(){Jr(this,t)}}function Hs(t){return function(){Gr(this,t)}}function qs(t,n){return function(){(n.apply(this,arguments)?Jr:Gr)(this,t)}}function Xs(t,n){var e=jr(t+"");if(arguments.length<2){for(var r=bn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each((typeof n=="function"?qs:n?Us:Hs)(e,n))}function Ys(){this.textContent=""}function Ws(t){return function(){this.textContent=t}}function js(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Vs(t){return arguments.length?this.each(t==null?Ys:(typeof t=="function"?js:Ws)(t)):this.node().textContent}function Js(){this.innerHTML=""}function Gs(t){return function(){this.innerHTML=t}}function Ks(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function Zs(t){return arguments.length?this.each(t==null?Js:(typeof t=="function"?Ks:Gs)(t)):this.node().innerHTML}function Qs(){this.nextSibling&&this.parentNode.appendChild(this)}function ta(){return this.each(Qs)}function ea(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function na(){return this.each(ea)}function ra(t){var n=typeof t=="function"?t:Ur(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function ia(){return null}function oa(t,n){var e=typeof t=="function"?t:Ur(t),r=n==null?ia:typeof n=="function"?n:En(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})}function sa(){var t=this.parentNode;t&&t.removeChild(this)}function aa(){return this.each(sa)}function la(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ca(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function ua(t){return this.select(t?ca:la)}function da(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ha(t){return function(n){t.call(this,n,this.__data__)}}function fa(t){return t.trim().split(/^|\s+/).map(function(n){var e="",r=n.indexOf(".");return r>=0&&(e=n.slice(r+1),n=n.slice(0,r)),{type:n,name:e}})}function pa(t){return function(){var n=this.__on;if(n){for(var e=0,r=-1,i=n.length,o;e<i;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++r]=o;++r?n.length=r:delete this.__on}}}function ma(t,n,e){return function(){var r=this.__on,i,o=ha(n);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=e),i.value=n;return}}this.addEventListener(t.type,o,e),i={type:t.type,name:t.name,value:n,listener:o,options:e},r?r.push(i):this.__on=[i]}}function ga(t,n,e){var r=fa(t+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,c=a.length,l;u<c;++u)for(i=0,l=a[u];i<o;++i)if((s=r[i]).type===l.type&&s.name===l.name)return l.value}return}for(a=n?ma:pa,i=0;i<o;++i)this.each(a(r[i],n,e));return this}function Kr(t,n,e){var r=Wr(t),i=r.CustomEvent;typeof i=="function"?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function ya(t,n){return function(){return Kr(this,t,n)}}function _a(t,n){return function(){return Kr(this,t,n.apply(this,arguments))}}function xa(t,n){return this.each((typeof n=="function"?_a:ya)(t,n))}function*va(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Zr=[null];function j(t,n){this._groups=t,this._parents=n}function Ht(){return new j([[document.documentElement]],Zr)}function wa(){return this}j.prototype=Ht.prototype={constructor:j,select:jo,selectAll:Ko,selectChild:es,selectChildren:os,filter:ss,data:hs,enter:as,exit:ps,join:ms,merge:gs,selection:wa,order:ys,sort:_s,call:vs,nodes:ws,node:Es,size:bs,empty:ks,each:Ss,attr:$s,style:Ps,property:Ls,classed:Xs,text:Vs,html:Zs,raise:ta,lower:na,append:ra,insert:oa,remove:aa,clone:ua,datum:da,on:ga,dispatch:xa,[Symbol.iterator]:va};function bt(t){return typeof t=="string"?new j([[document.querySelector(t)]],[document.documentElement]):new j([[t]],Zr)}function Ea(t){let n;for(;n=t.sourceEvent;)t=n;return t}function Nt(t,n){if(t=Ea(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(n.getScreenCTM().inverse()),[r.x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]}function ba(t,n){var e=0,r=0;return Float64Array.from(t,n===void 0?i=>e+=+i||0:i=>e+=+n(i,r++,t)||0)}function ka(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e<r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e<i||e===void 0&&i>=i)&&(e=i)}return e}function Sa(t,n){let e;if(n===void 0)for(const r of t)r!=null&&(e>r||e===void 0&&r>=r)&&(e=r);else{let r=-1;for(let i of t)(i=n(i,++r,t))!=null&&(e>i||e===void 0&&i>=i)&&(e=i)}return e}function Aa(t,n){let e=0;if(n===void 0)for(let r of t)(r=+r)&&(e+=r);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}function Ca(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function Na(){return this.eachAfter(Ca)}function Ta(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this}function Ma(t,n){for(var e=this,r=[e],i,o,s=-1;e=r.pop();)if(t.call(n,e,++s,this),i=e.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function Ra(t,n){for(var e=this,r=[e],i=[],o,s,a,u=-1;e=r.pop();)if(i.push(e),o=e.children)for(s=0,a=o.length;s<a;++s)r.push(o[s]);for(;e=i.pop();)t.call(n,e,++u,this);return this}function $a(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r}function Da(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function Oa(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function Ia(t){for(var n=this,e=Pa(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function Pa(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function za(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function Ba(){return Array.from(this)}function Fa(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function La(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function*Ua(){var t=this,n,e=[t],r,i,o;do for(n=e.reverse(),e=[];t=n.pop();)if(yield t,r=t.children)for(i=0,o=r.length;i<o;++i)e.push(r[i]);while(e.length)}function Qr(t,n){t instanceof Map?(t=[void 0,t],n===void 0&&(n=Xa)):n===void 0&&(n=qa);for(var e=new Ft(t),r,i=[e],o,s,a,u;r=i.pop();)if((s=n(r.data))&&(u=(s=Array.from(s)).length))for(r.children=s,a=u-1;a>=0;--a)i.push(o=s[a]=new Ft(s[a])),o.parent=r,o.depth=r.depth+1;return e.eachBefore(ti)}function Ha(){return Qr(this).eachBefore(Ya)}function qa(t){return t.children}function Xa(t){return Array.isArray(t)?t[1]:null}function Ya(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function ti(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function Ft(t){this.data=t,this.depth=this.height=0,this.parent=null}Ft.prototype=Qr.prototype={constructor:Ft,count:Na,each:Ta,eachAfter:Ra,eachBefore:Ma,find:$a,sum:Da,sort:Oa,path:Ia,ancestors:za,descendants:Ba,leaves:Fa,links:La,copy:Ha,[Symbol.iterator]:Ua};function Ye(t){return t==null?null:Wa(t)}function Wa(t){if(typeof t!="function")throw new Error;return t}var ja={depth:-1},Jn={},We={};function Va(t){return t.id}function Ja(t){return t.parentId}function Ga(){var t=Va,n=Ja,e;function r(i){var o=Array.from(i),s=t,a=n,u,c,l,d,f,h,m,y,S=new Map;if(e!=null){const w=o.map((R,z)=>Ka(e(R,z,i))),C=w.map(Gn),M=new Set(w).add("");for(const R of C)M.has(R)||(M.add(R),w.push(R),C.push(Gn(R)),o.push(We));s=(R,z)=>w[z],a=(R,z)=>C[z]}for(l=0,u=o.length;l<u;++l)c=o[l],h=o[l]=new Ft(c),(m=s(c,l,i))!=null&&(m+="")&&(y=h.id=m,S.set(y,S.has(y)?Jn:h)),(m=a(c,l,i))!=null&&(m+="")&&(h.parent=m);for(l=0;l<u;++l)if(h=o[l],m=h.parent){if(f=S.get(m),!f)throw new Error("missing: "+m);if(f===Jn)throw new Error("ambiguous: "+m);f.children?f.children.push(h):f.children=[h],h.parent=f}else{if(d)throw new Error("multiple roots");d=h}if(!d)throw new Error("no root");if(e!=null){for(;d.data===We&&d.children.length===1;)d=d.children[0],--u;for(let w=o.length-1;w>=0&&(h=o[w],h.data===We);--w)h.data=null}if(d.parent=ja,d.eachBefore(function(w){w.depth=w.parent.depth+1,--u}).eachBefore(ti),d.parent=null,u>0)throw new Error("cycle");return d}return r.id=function(i){return arguments.length?(t=Ye(i),r):t},r.parentId=function(i){return arguments.length?(n=Ye(i),r):n},r.path=function(i){return arguments.length?(e=Ye(i),r):e},r}function Ka(t){t=`${t}`;let n=t.length;return on(t,n-1)&&!on(t,n-2)&&(t=t.slice(0,-1)),t[0]==="/"?t:`/${t}`}function Gn(t){let n=t.length;if(n<2)return"";for(;--n>1&&!on(t,n););return t.slice(0,n)}function on(t,n){if(t[n]==="/"){let e=0;for(;n>0&&t[--n]==="\\";)++e;if(!(e&1))return!0}return!1}function Za(t,n){return t.parent===n.parent?1:2}function je(t){var n=t.children;return n?n[0]:t.t}function Ve(t){var n=t.children;return n?n[n.length-1]:t.t}function Qa(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function tl(t){for(var n=0,e=0,r=t.children,i=r.length,o;--i>=0;)o=r[i],o.z+=n,o.m+=n,n+=o.s+(e+=o.c)}function el(t,n,e){return t.a.parent===n.parent?t.a:e}function ge(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}ge.prototype=Object.create(Ft.prototype);function nl(t){for(var n=new ge(t,0),e,r=[n],i,o,s,a;e=r.pop();)if(o=e._.children)for(e.children=new Array(a=o.length),s=a-1;s>=0;--s)r.push(i=e.children[s]=new ge(o[s],s)),i.parent=e;return(n.parent=new ge(null,0)).children=[n],n}function rl(){var t=Za,n=1,e=1,r=null;function i(c){var l=nl(c);if(l.eachAfter(o),l.parent.m=-l.z,l.eachBefore(s),r)c.eachBefore(u);else{var d=c,f=c,h=c;c.eachBefore(function(C){C.x<d.x&&(d=C),C.x>f.x&&(f=C),C.depth>h.depth&&(h=C)});var m=d===f?1:t(d,f)/2,y=m-d.x,S=n/(f.x+m+y),w=e/(h.depth||1);c.eachBefore(function(C){C.x=(C.x+y)*S,C.y=C.depth*w})}return c}function o(c){var l=c.children,d=c.parent.children,f=c.i?d[c.i-1]:null;if(l){tl(c);var h=(l[0].z+l[l.length-1].z)/2;f?(c.z=f.z+t(c._,f._),c.m=c.z-h):c.z=h}else f&&(c.z=f.z+t(c._,f._));c.parent.A=a(c,f,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function a(c,l,d){if(l){for(var f=c,h=c,m=l,y=f.parent.children[0],S=f.m,w=h.m,C=m.m,M=y.m,R;m=Ve(m),f=je(f),m&&f;)y=je(y),h=Ve(h),h.a=c,R=m.z+C-f.z-S+t(m._,f._),R>0&&(Qa(el(m,c,d),c,R),S+=R,w+=R),C+=m.m,S+=f.m,M+=y.m,w+=h.m;m&&!Ve(h)&&(h.t=m,h.m+=C-w),f&&!je(y)&&(y.t=f,y.m+=S-M,d=c)}return d}function u(c){c.x*=n,c.y=c.depth*e}return i.separation=function(c){return arguments.length?(t=c,i):t},i.size=function(c){return arguments.length?(r=!1,n=+c[0],e=+c[1],i):r?null:[n,e]},i.nodeSize=function(c){return arguments.length?(r=!0,n=+c[0],e=+c[1],i):r?[n,e]:null},i}var il={value:()=>{}};function kn(){for(var t=0,n=arguments.length,e={},r;t<n;++t){if(!(r=arguments[t]+"")||r in e||/[\s.]/.test(r))throw new Error("illegal type: "+r);e[r]=[]}return new ye(e)}function ye(t){this._=t}function ol(t,n){return t.trim().split(/^|\s+/).map(function(e){var r="",i=e.indexOf(".");if(i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:r}})}ye.prototype=kn.prototype={constructor:ye,on:function(t,n){var e=this._,r=ol(t+"",e),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(t=r[o]).type)&&(i=sl(e[i],t.name)))return i;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<s;)if(i=(t=r[o]).type)e[i]=Kn(e[i],t.name,n);else if(n==null)for(i in e)e[i]=Kn(e[i],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new ye(t)},call:function(t,n){if((i=arguments.length-2)>0)for(var e=new Array(i),r=0,i,o;r<i;++r)e[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};function sl(t,n){for(var e=0,r=t.length,i;e<r;++e)if((i=t[e]).name===n)return i.value}function Kn(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=il,t=t.slice(0,r).concat(t.slice(r+1));break}return e!=null&&t.push({name:n,value:e}),t}const sn={capture:!0,passive:!1};function an(t){t.preventDefault(),t.stopImmediatePropagation()}function al(t){var n=t.document.documentElement,e=bt(t).on("dragstart.drag",an,sn);"onselectstart"in n?e.on("selectstart.drag",an,sn):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function ll(t,n){var e=t.document.documentElement,r=bt(t).on("dragstart.drag",null);n&&(r.on("click.drag",an,sn),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function Sn(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function ei(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function se(){}var Zt=.7,be=1/Zt,It="\\s*([+-]?\\d+)\\s*",Qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",st="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cl=/^#([0-9a-f]{3,8})$/,ul=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),dl=new RegExp(`^rgb\\(${st},${st},${st}\\)$`),hl=new RegExp(`^rgba\\(${It},${It},${It},${Qt}\\)$`),fl=new RegExp(`^rgba\\(${st},${st},${st},${Qt}\\)$`),pl=new RegExp(`^hsl\\(${Qt},${st},${st}\\)$`),ml=new RegExp(`^hsla\\(${Qt},${st},${st},${Qt}\\)$`),Zn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Sn(se,te,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Qn,formatHex:Qn,formatHex8:gl,formatHsl:yl,formatRgb:tr,toString:tr});function Qn(){return this.rgb().formatHex()}function gl(){return this.rgb().formatHex8()}function yl(){return ni(this).formatHsl()}function tr(){return this.rgb().formatRgb()}function te(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=cl.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?er(n):e===3?new X(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?le(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?le(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=ul.exec(t))?new X(n[1],n[2],n[3],1):(n=dl.exec(t))?new X(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=hl.exec(t))?le(n[1],n[2],n[3],n[4]):(n=fl.exec(t))?le(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=pl.exec(t))?ir(n[1],n[2]/100,n[3]/100,1):(n=ml.exec(t))?ir(n[1],n[2]/100,n[3]/100,n[4]):Zn.hasOwnProperty(t)?er(Zn[t]):t==="transparent"?new X(NaN,NaN,NaN,0):null}function er(t){return new X(t>>16&255,t>>8&255,t&255,1)}function le(t,n,e,r){return r<=0&&(t=n=e=NaN),new X(t,n,e,r)}function _l(t){return t instanceof se||(t=te(t)),t?(t=t.rgb(),new X(t.r,t.g,t.b,t.opacity)):new X}function ln(t,n,e,r){return arguments.length===1?_l(t):new X(t,n,e,r??1)}function X(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}Sn(X,ln,ei(se,{brighter(t){return t=t==null?be:Math.pow(be,t),new X(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Zt:Math.pow(Zt,t),new X(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new X(Rt(this.r),Rt(this.g),Rt(this.b),ke(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nr,formatHex:nr,formatHex8:xl,formatRgb:rr,toString:rr}));function nr(){return`#${Mt(this.r)}${Mt(this.g)}${Mt(this.b)}`}function xl(){return`#${Mt(this.r)}${Mt(this.g)}${Mt(this.b)}${Mt((isNaN(this.opacity)?1:this.opacity)*255)}`}function rr(){const t=ke(this.opacity);return`${t===1?"rgb(":"rgba("}${Rt(this.r)}, ${Rt(this.g)}, ${Rt(this.b)}${t===1?")":`, ${t})`}`}function ke(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Rt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Mt(t){return t=Rt(t),(t<16?"0":"")+t.toString(16)}function ir(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new et(t,n,e,r)}function ni(t){if(t instanceof et)return new et(t.h,t.s,t.l,t.opacity);if(t instanceof se||(t=te(t)),!t)return new et;if(t instanceof et)return t;t=t.rgb();var n=t.r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),s=NaN,a=o-i,u=(o+i)/2;return a?(n===o?s=(e-r)/a+(e<r)*6:e===o?s=(r-n)/a+2:s=(n-e)/a+4,a/=u<.5?o+i:2-o-i,s*=60):a=u>0&&u<1?0:s,new et(s,a,u,t.opacity)}function vl(t,n,e,r){return arguments.length===1?ni(t):new et(t,n,e,r??1)}function et(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}Sn(et,vl,ei(se,{brighter(t){return t=t==null?be:Math.pow(be,t),new et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Zt:Math.pow(Zt,t),new et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new X(Je(t>=240?t-240:t+120,i,r),Je(t,i,r),Je(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new et(or(this.h),ce(this.s),ce(this.l),ke(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ke(this.opacity);return`${t===1?"hsl(":"hsla("}${or(this.h)}, ${ce(this.s)*100}%, ${ce(this.l)*100}%${t===1?")":`, ${t})`}`}}));function or(t){return t=(t||0)%360,t<0?t+360:t}function ce(t){return Math.max(0,Math.min(1,t||0))}function Je(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const ri=t=>()=>t;function wl(t,n){return function(e){return t+e*n}}function El(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}function bl(t){return(t=+t)==1?ii:function(n,e){return e-n?El(n,e,t):ri(isNaN(n)?e:n)}}function ii(t,n){var e=n-t;return e?wl(t,e):ri(isNaN(t)?n:t)}const sr=function t(n){var e=bl(n);function r(i,o){var s=e((i=ln(i)).r,(o=ln(o)).r),a=e(i.g,o.g),u=e(i.b,o.b),c=ii(i.opacity,o.opacity);return function(l){return i.r=s(l),i.g=a(l),i.b=u(l),i.opacity=c(l),i+""}}return r.gamma=t,r}(1);function Et(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var cn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ge=new RegExp(cn.source,"g");function kl(t){return function(){return t}}function Sl(t){return function(n){return t(n)+""}}function Al(t,n){var e=cn.lastIndex=Ge.lastIndex=0,r,i,o,s=-1,a=[],u=[];for(t=t+"",n=n+"";(r=cn.exec(t))&&(i=Ge.exec(n));)(o=i.index)>e&&(o=n.slice(e,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,u.push({i:s,x:Et(r,i)})),e=Ge.lastIndex;return e<n.length&&(o=n.slice(e),a[s]?a[s]+=o:a[++s]=o),a.length<2?u[0]?Sl(u[0].x):kl(n):(n=u.length,function(c){for(var l=0,d;l<n;++l)a[(d=u[l]).i]=d.x(c);return a.join("")})}var ar=180/Math.PI,un={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function oi(t,n,e,r,i,o){var s,a,u;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(u=t*e+n*r)&&(e-=t*u,r-=n*u),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,u/=a),t*r<n*e&&(t=-t,n=-n,u=-u,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*ar,skewX:Math.atan(u)*ar,scaleX:s,scaleY:a}}var ue;function Cl(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?un:oi(n.a,n.b,n.c,n.d,n.e,n.f)}function Nl(t){return t==null||(ue||(ue=document.createElementNS("http://www.w3.org/2000/svg","g")),ue.setAttribute("transform",t),!(t=ue.transform.baseVal.consolidate()))?un:(t=t.matrix,oi(t.a,t.b,t.c,t.d,t.e,t.f))}function si(t,n,e,r){function i(c){return c.length?c.pop()+" ":""}function o(c,l,d,f,h,m){if(c!==d||l!==f){var y=h.push("translate(",null,n,null,e);m.push({i:y-4,x:Et(c,d)},{i:y-2,x:Et(l,f)})}else(d||f)&&h.push("translate("+d+n+f+e)}function s(c,l,d,f){c!==l?(c-l>180?l+=360:l-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:Et(c,l)})):l&&d.push(i(d)+"rotate("+l+r)}function a(c,l,d,f){c!==l?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:Et(c,l)}):l&&d.push(i(d)+"skewX("+l+r)}function u(c,l,d,f,h,m){if(c!==d||l!==f){var y=h.push(i(h)+"scale(",null,",",null,")");m.push({i:y-4,x:Et(c,d)},{i:y-2,x:Et(l,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,l){var d=[],f=[];return c=t(c),l=t(l),o(c.translateX,c.translateY,l.translateX,l.translateY,d,f),s(c.rotate,l.rotate,d,f),a(c.skewX,l.skewX,d,f),u(c.scaleX,c.scaleY,l.scaleX,l.scaleY,d,f),c=l=null,function(h){for(var m=-1,y=f.length,S;++m<y;)d[(S=f[m]).i]=S.x(h);return d.join("")}}}var Tl=si(Cl,"px, ","px)","deg)"),Ml=si(Nl,", ",")",")"),Rl=1e-12;function lr(t){return((t=Math.exp(t))+1/t)/2}function $l(t){return((t=Math.exp(t))-1/t)/2}function Dl(t){return((t=Math.exp(2*t))-1)/(t+1)}const Ol=function t(n,e,r){function i(o,s){var a=o[0],u=o[1],c=o[2],l=s[0],d=s[1],f=s[2],h=l-a,m=d-u,y=h*h+m*m,S,w;if(y<Rl)w=Math.log(f/c)/n,S=function(V){return[a+V*h,u+V*m,c*Math.exp(n*V*w)]};else{var C=Math.sqrt(y),M=(f*f-c*c+r*y)/(2*c*e*C),R=(f*f-c*c-r*y)/(2*f*e*C),z=Math.log(Math.sqrt(M*M+1)-M),q=Math.log(Math.sqrt(R*R+1)-R);w=(q-z)/n,S=function(V){var _t=V*w,J=lr(z),Xt=c/(e*C)*(J*Dl(n*_t+z)-$l(z));return[a+Xt*h,u+Xt*m,c*J/lr(n*_t+z)]}}return S.duration=w*1e3*n/Math.SQRT2,S}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,u=a*a;return t(s,a,u)},i}(Math.SQRT2,2,4);var Lt=0,Jt=0,Wt=0,ai=1e3,Se,Gt,Ae=0,$t=0,Ie=0,ee=typeof performance=="object"&&performance.now?performance:Date,li=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function An(){return $t||(li(Il),$t=ee.now()+Ie)}function Il(){$t=0}function Ce(){this._call=this._time=this._next=null}Ce.prototype=ci.prototype={constructor:Ce,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?An():+e)+(n==null?0:+n),!this._next&&Gt!==this&&(Gt?Gt._next=this:Se=this,Gt=this),this._call=t,this._time=e,dn()},stop:function(){this._call&&(this._call=null,this._time=1/0,dn())}};function ci(t,n,e){var r=new Ce;return r.restart(t,n,e),r}function Pl(){An(),++Lt;for(var t=Se,n;t;)(n=$t-t._time)>=0&&t._call.call(void 0,n),t=t._next;--Lt}function cr(){$t=(Ae=ee.now())+Ie,Lt=Jt=0;try{Pl()}finally{Lt=0,Bl(),$t=0}}function zl(){var t=ee.now(),n=t-Ae;n>ai&&(Ie-=n,Ae=t)}function Bl(){for(var t,n=Se,e,r=1/0;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Se=e);Gt=t,dn(r)}function dn(t){if(!Lt){Jt&&(Jt=clearTimeout(Jt));var n=t-$t;n>24?(t<1/0&&(Jt=setTimeout(cr,t-ee.now()-Ie)),Wt&&(Wt=clearInterval(Wt))):(Wt||(Ae=ee.now(),Wt=setInterval(zl,ai)),Lt=1,li(cr))}}function ur(t,n,e){var r=new Ce;return n=n==null?0:+n,r.restart(i=>{r.stop(),t(i+n)},n,e),r}var Fl=kn("start","end","cancel","interrupt"),Ll=[],ui=0,dr=1,hn=2,_e=3,hr=4,fn=5,xe=6;function Pe(t,n,e,r,i,o){var s=t.__transition;if(!s)t.__transition={};else if(e in s)return;Ul(t,e,{name:n,index:r,group:i,on:Fl,tween:Ll,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ui})}function Cn(t,n){var e=rt(t,n);if(e.state>ui)throw new Error("too late; already scheduled");return e}function lt(t,n){var e=rt(t,n);if(e.state>_e)throw new Error("too late; already running");return e}function rt(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function Ul(t,n,e){var r=t.__transition,i;r[n]=e,e.timer=ci(o,0,e.time);function o(c){e.state=dr,e.timer.restart(s,e.delay,e.time),e.delay<=c&&s(c-e.delay)}function s(c){var l,d,f,h;if(e.state!==dr)return u();for(l in r)if(h=r[l],h.name===e.name){if(h.state===_e)return ur(s);h.state===hr?(h.state=xe,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[l]):+l<n&&(h.state=xe,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[l])}if(ur(function(){e.state===_e&&(e.state=hr,e.timer.restart(a,e.delay,e.time),a(c))}),e.state=hn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===hn){for(e.state=_e,i=new Array(f=e.tween.length),l=0,d=-1;l<f;++l)(h=e.tween[l].value.call(t,t.__data__,e.index,e.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var l=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(u),e.state=fn,1),d=-1,f=i.length;++d<f;)i[d].call(t,l);e.state===fn&&(e.on.call("end",t,t.__data__,e.index,e.group),u())}function u(){e.state=xe,e.timer.stop(),delete r[n];for(var c in r)return;delete t.__transition}}function ve(t,n){var e=t.__transition,r,i,o=!0,s;if(e){n=n==null?null:n+"";for(s in e){if((r=e[s]).name!==n){o=!1;continue}i=r.state>hn&&r.state<fn,r.state=xe,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete e[s]}o&&delete t.__transition}}function Hl(t){return this.each(function(){ve(this,t)})}function ql(t,n){var e,r;return function(){var i=lt(this,t),o=i.tween;if(o!==e){r=e=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===n){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Xl(t,n,e){var r,i;if(typeof e!="function")throw new Error;return function(){var o=lt(this,t),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:n,value:e},u=0,c=i.length;u<c;++u)if(i[u].name===n){i[u]=a;break}u===c&&i.push(a)}o.tween=i}}function Yl(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r=rt(this.node(),e).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===t)return s.value;return null}return this.each((n==null?ql:Xl)(e,t,n))}function Nn(t,n,e){var r=t._id;return t.each(function(){var i=lt(this,r);(i.value||(i.value={}))[n]=e.apply(this,arguments)}),function(i){return rt(i,r).value[n]}}function di(t,n){var e;return(typeof n=="number"?Et:n instanceof te?sr:(e=te(n))?(n=e,sr):Al)(t,n)}function Wl(t){return function(){this.removeAttribute(t)}}function jl(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vl(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttribute(t);return s===i?null:s===r?o:o=n(r=s,e)}}function Jl(t,n,e){var r,i=e+"",o;return function(){var s=this.getAttributeNS(t.space,t.local);return s===i?null:s===r?o:o=n(r=s,e)}}function Gl(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttribute(t):(s=this.getAttribute(t),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function Kl(t,n,e){var r,i,o;return function(){var s,a=e(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local),u=a+"",s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a)))}}function Zl(t,n){var e=Oe(t),r=e==="transform"?Ml:di;return this.attrTween(t,typeof n=="function"?(e.local?Kl:Gl)(e,r,Nn(this,"attr."+t,n)):n==null?(e.local?jl:Wl)(e):(e.local?Jl:Vl)(e,r,n))}function Ql(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function tc(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function ec(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&tc(t,o)),e}return i._value=n,i}function nc(t,n){var e,r;function i(){var o=n.apply(this,arguments);return o!==r&&(e=(r=o)&&Ql(t,o)),e}return i._value=n,i}function rc(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var r=Oe(t);return this.tween(e,(r.local?ec:nc)(r,n))}function ic(t,n){return function(){Cn(this,t).delay=+n.apply(this,arguments)}}function oc(t,n){return n=+n,function(){Cn(this,t).delay=n}}function sc(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ic:oc)(n,t)):rt(this.node(),n).delay}function ac(t,n){return function(){lt(this,t).duration=+n.apply(this,arguments)}}function lc(t,n){return n=+n,function(){lt(this,t).duration=n}}function cc(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?ac:lc)(n,t)):rt(this.node(),n).duration}function uc(t,n){if(typeof n!="function")throw new Error;return function(){lt(this,t).ease=n}}function dc(t){var n=this._id;return arguments.length?this.each(uc(n,t)):rt(this.node(),n).ease}function hc(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;lt(this,t).ease=e}}function fc(t){if(typeof t!="function")throw new Error;return this.each(hc(this._id,t))}function pc(t){typeof t!="function"&&(t=qr(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o=n[i],s=o.length,a=r[i]=[],u,c=0;c<s;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&a.push(u);return new gt(r,this._parents,this._name,this._id)}function mc(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var u=n[a],c=e[a],l=u.length,d=s[a]=new Array(l),f,h=0;h<l;++h)(f=u[h]||c[h])&&(d[h]=f);for(;a<r;++a)s[a]=n[a];return new gt(s,this._parents,this._name,this._id)}function gc(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function yc(t,n,e){var r,i,o=gc(n)?Cn:lt;return function(){var s=o(this,t),a=s.on;a!==r&&(i=(r=a).copy()).on(n,e),s.on=i}}function _c(t,n){var e=this._id;return arguments.length<2?rt(this.node(),e).on.on(t):this.each(yc(e,t,n))}function xc(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function vc(){return this.on("end.remove",xc(this._id))}function wc(t){var n=this._name,e=this._id;typeof t!="function"&&(t=En(t));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],u=a.length,c=o[s]=new Array(u),l,d,f=0;f<u;++f)(l=a[f])&&(d=t.call(l,l.__data__,f,a))&&("__data__"in l&&(d.__data__=l.__data__),c[f]=d,Pe(c[f],n,e,f,c,rt(l,e)));return new gt(o,this._parents,n,e)}function Ec(t){var n=this._name,e=this._id;typeof t!="function"&&(t=Hr(t));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var u=r[a],c=u.length,l,d=0;d<c;++d)if(l=u[d]){for(var f=t.call(l,l.__data__,d,u),h,m=rt(l,e),y=0,S=f.length;y<S;++y)(h=f[y])&&Pe(h,n,e,y,f,m);o.push(f),s.push(l)}return new gt(o,s,n,e)}var bc=Ht.prototype.constructor;function kc(){return new bc(this._groups,this._parents)}function Sc(t,n){var e,r,i;return function(){var o=Bt(this,t),s=(this.style.removeProperty(t),Bt(this,t));return o===s?null:o===e&&s===r?i:i=n(e=o,r=s)}}function hi(t){return function(){this.style.removeProperty(t)}}function Ac(t,n,e){var r,i=e+"",o;return function(){var s=Bt(this,t);return s===i?null:s===r?o:o=n(r=s,e)}}function Cc(t,n,e){var r,i,o;return function(){var s=Bt(this,t),a=e(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),Bt(this,t))),s===u?null:s===r&&u===i?o:(i=u,o=n(r=s,a))}}function Nc(t,n){var e,r,i,o="style."+n,s="end."+o,a;return function(){var u=lt(this,t),c=u.on,l=u.value[o]==null?a||(a=hi(n)):void 0;(c!==e||i!==l)&&(r=(e=c).copy()).on(s,i=l),u.on=r}}function Tc(t,n,e){var r=(t+="")=="transform"?Tl:di;return n==null?this.styleTween(t,Sc(t,r)).on("end.style."+t,hi(t)):typeof n=="function"?this.styleTween(t,Cc(t,r,Nn(this,"style."+t,n))).each(Nc(this._id,t)):this.styleTween(t,Ac(t,r,n),e).on("end.style."+t,null)}function Mc(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function Rc(t,n,e){var r,i;function o(){var s=n.apply(this,arguments);return s!==i&&(r=(i=s)&&Mc(t,s,e)),r}return o._value=n,o}function $c(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(n==null)return this.tween(r,null);if(typeof n!="function")throw new Error;return this.tween(r,Rc(t,n,e??""))}function Dc(t){return function(){this.textContent=t}}function Oc(t){return function(){var n=t(this);this.textContent=n??""}}function Ic(t){return this.tween("text",typeof t=="function"?Oc(Nn(this,"text",t)):Dc(t==null?"":t+""))}function Pc(t){return function(n){this.textContent=t.call(this,n)}}function zc(t){var n,e;function r(){var i=t.apply(this,arguments);return i!==e&&(n=(e=i)&&Pc(i)),n}return r._value=t,r}function Bc(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,zc(t))}function Fc(){for(var t=this._name,n=this._id,e=fi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)if(u=s[c]){var l=rt(u,n);Pe(u,t,e,c,s,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new gt(r,this._parents,t,e)}function Lc(){var t,n,e=this,r=e._id,i=e.size();return new Promise(function(o,s){var a={value:s},u={value:function(){--i===0&&o()}};e.each(function(){var c=lt(this,r),l=c.on;l!==t&&(n=(t=l).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(u)),c.on=n}),i===0&&o()})}var Uc=0;function gt(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function fi(){return++Uc}var dt=Ht.prototype;gt.prototype={constructor:gt,select:wc,selectAll:Ec,selectChild:dt.selectChild,selectChildren:dt.selectChildren,filter:pc,merge:mc,selection:kc,transition:Fc,call:dt.call,nodes:dt.nodes,node:dt.node,size:dt.size,empty:dt.empty,each:dt.each,on:_c,attr:Zl,attrTween:rc,style:Tc,styleTween:$c,text:Ic,textTween:Bc,remove:vc,tween:Yl,delay:sc,duration:cc,ease:dc,easeVarying:fc,end:Lc,[Symbol.iterator]:dt[Symbol.iterator]};function Hc(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var qc={time:null,delay:0,duration:250,ease:Hc};function Xc(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function Yc(t){var n,e;t instanceof gt?(n=t._id,t=t._name):(n=fi(),(e=qc).time=An(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,u,c=0;c<a;++c)(u=s[c])&&Pe(u,t,n,c,s,e||Xc(u,n));return new gt(r,this._parents,t,n)}Ht.prototype.interrupt=Hl;Ht.prototype.transition=Yc;const de=t=>()=>t;function Wc(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function pt(t,n,e){this.k=t,this.x=n,this.y=e}pt.prototype={constructor:pt,scale:function(t){return t===1?this:new pt(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new pt(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Tn=new pt(1,0,0);pt.prototype;function Ke(t){t.stopImmediatePropagation()}function jt(t){t.preventDefault(),t.stopImmediatePropagation()}function jc(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Vc(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function fr(){return this.__zoom||Tn}function Jc(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Gc(){return navigator.maxTouchPoints||"ontouchstart"in this}function Kc(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],s=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function Zc(){var t=jc,n=Vc,e=Kc,r=Jc,i=Gc,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,u=Ol,c=kn("start","zoom","end"),l,d,f,h=500,m=150,y=0,S=10;function w(p){p.property("__zoom",fr).on("wheel.zoom",_t,{passive:!1}).on("mousedown.zoom",J).on("dblclick.zoom",Xt).filter(i).on("touchstart.zoom",ae).on("touchmove.zoom",xt).on("touchend.zoom touchcancel.zoom",v).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}w.transform=function(p,b,x,A){var T=p.selection?p.selection():p;T.property("__zoom",fr),p!==T?z(p,b,x,A):T.interrupt().each(function(){q(this,arguments).event(A).start().zoom(null,typeof b=="function"?b.apply(this,arguments):b).end()})},w.scaleBy=function(p,b,x,A){w.scaleTo(p,function(){var T=this.__zoom.k,$=typeof b=="function"?b.apply(this,arguments):b;return T*$},x,A)},w.scaleTo=function(p,b,x,A){w.transform(p,function(){var T=n.apply(this,arguments),$=this.__zoom,D=x==null?R(T):typeof x=="function"?x.apply(this,arguments):x,P=$.invert(D),L=typeof b=="function"?b.apply(this,arguments):b;return e(M(C($,L),D,P),T,s)},x,A)},w.translateBy=function(p,b,x,A){w.transform(p,function(){return e(this.__zoom.translate(typeof b=="function"?b.apply(this,arguments):b,typeof x=="function"?x.apply(this,arguments):x),n.apply(this,arguments),s)},null,A)},w.translateTo=function(p,b,x,A,T){w.transform(p,function(){var $=n.apply(this,arguments),D=this.__zoom,P=A==null?R($):typeof A=="function"?A.apply(this,arguments):A;return e(Tn.translate(P[0],P[1]).scale(D.k).translate(typeof b=="function"?-b.apply(this,arguments):-b,typeof x=="function"?-x.apply(this,arguments):-x),$,s)},A,T)};function C(p,b){return b=Math.max(o[0],Math.min(o[1],b)),b===p.k?p:new pt(b,p.x,p.y)}function M(p,b,x){var A=b[0]-x[0]*p.k,T=b[1]-x[1]*p.k;return A===p.x&&T===p.y?p:new pt(p.k,A,T)}function R(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function z(p,b,x,A){p.on("start.zoom",function(){q(this,arguments).event(A).start()}).on("interrupt.zoom end.zoom",function(){q(this,arguments).event(A).end()}).tween("zoom",function(){var T=this,$=arguments,D=q(T,$).event(A),P=n.apply(T,$),L=x==null?R(P):typeof x=="function"?x.apply(T,$):x,it=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),H=T.__zoom,Z=typeof b=="function"?b.apply(T,$):b,ct=u(H.invert(L).concat(it/H.k),Z.invert(L).concat(it/Z.k));return function(Q){if(Q===1)Q=Z;else{var ut=ct(Q),Le=it/ut[2];Q=new pt(Le,L[0]-ut[0]*Le,L[1]-ut[1]*Le)}D.zoom(null,Q)}})}function q(p,b,x){return!x&&p.__zooming||new V(p,b)}function V(p,b){this.that=p,this.args=b,this.active=0,this.sourceEvent=null,this.extent=n.apply(p,b),this.taps=0}V.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,b){return this.mouse&&p!=="mouse"&&(this.mouse[1]=b.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=b.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=b.invert(this.touch1[0])),this.that.__zoom=b,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var b=bt(this.that).datum();c.call(p,this.that,new Wc(p,{sourceEvent:this.sourceEvent,target:w,type:p,transform:this.that.__zoom,dispatch:c}),b)}};function _t(p,...b){if(!t.apply(this,arguments))return;var x=q(this,b).event(p),A=this.__zoom,T=Math.max(o[0],Math.min(o[1],A.k*Math.pow(2,r.apply(this,arguments)))),$=Nt(p);if(x.wheel)(x.mouse[0][0]!==$[0]||x.mouse[0][1]!==$[1])&&(x.mouse[1]=A.invert(x.mouse[0]=$)),clearTimeout(x.wheel);else{if(A.k===T)return;x.mouse=[$,A.invert($)],ve(this),x.start()}jt(p),x.wheel=setTimeout(D,m),x.zoom("mouse",e(M(C(A,T),x.mouse[0],x.mouse[1]),x.extent,s));function D(){x.wheel=null,x.end()}}function J(p,...b){if(f||!t.apply(this,arguments))return;var x=p.currentTarget,A=q(this,b,!0).event(p),T=bt(p.view).on("mousemove.zoom",L,!0).on("mouseup.zoom",it,!0),$=Nt(p,x),D=p.clientX,P=p.clientY;al(p.view),Ke(p),A.mouse=[$,this.__zoom.invert($)],ve(this),A.start();function L(H){if(jt(H),!A.moved){var Z=H.clientX-D,ct=H.clientY-P;A.moved=Z*Z+ct*ct>y}A.event(H).zoom("mouse",e(M(A.that.__zoom,A.mouse[0]=Nt(H,x),A.mouse[1]),A.extent,s))}function it(H){T.on("mousemove.zoom mouseup.zoom",null),ll(H.view,A.moved),jt(H),A.event(H).end()}}function Xt(p,...b){if(t.apply(this,arguments)){var x=this.__zoom,A=Nt(p.changedTouches?p.changedTouches[0]:p,this),T=x.invert(A),$=x.k*(p.shiftKey?.5:2),D=e(M(C(x,$),A,T),n.apply(this,b),s);jt(p),a>0?bt(this).transition().duration(a).call(z,D,A,p):bt(this).call(w.transform,D,A,p)}}function ae(p,...b){if(t.apply(this,arguments)){var x=p.touches,A=x.length,T=q(this,b,p.changedTouches.length===A).event(p),$,D,P,L;for(Ke(p),D=0;D<A;++D)P=x[D],L=Nt(P,this),L=[L,this.__zoom.invert(L),P.identifier],T.touch0?!T.touch1&&T.touch0[2]!==L[2]&&(T.touch1=L,T.taps=0):(T.touch0=L,$=!0,T.taps=1+!!l);l&&(l=clearTimeout(l)),$&&(T.taps<2&&(d=L[0],l=setTimeout(function(){l=null},h)),ve(this),T.start())}}function xt(p,...b){if(this.__zooming){var x=q(this,b).event(p),A=p.changedTouches,T=A.length,$,D,P,L;for(jt(p),$=0;$<T;++$)D=A[$],P=Nt(D,this),x.touch0&&x.touch0[2]===D.identifier?x.touch0[0]=P:x.touch1&&x.touch1[2]===D.identifier&&(x.touch1[0]=P);if(D=x.that.__zoom,x.touch1){var it=x.touch0[0],H=x.touch0[1],Z=x.touch1[0],ct=x.touch1[1],Q=(Q=Z[0]-it[0])*Q+(Q=Z[1]-it[1])*Q,ut=(ut=ct[0]-H[0])*ut+(ut=ct[1]-H[1])*ut;D=C(D,Math.sqrt(Q/ut)),P=[(it[0]+Z[0])/2,(it[1]+Z[1])/2],L=[(H[0]+ct[0])/2,(H[1]+ct[1])/2]}else if(x.touch0)P=x.touch0[0],L=x.touch0[1];else return;x.zoom("touch",e(M(D,P,L),x.extent,s))}}function v(p,...b){if(this.__zooming){var x=q(this,b).event(p),A=p.changedTouches,T=A.length,$,D;for(Ke(p),f&&clearTimeout(f),f=setTimeout(function(){f=null},h),$=0;$<T;++$)D=A[$],x.touch0&&x.touch0[2]===D.identifier?delete x.touch0:x.touch1&&x.touch1[2]===D.identifier&&delete x.touch1;if(x.touch1&&!x.touch0&&(x.touch0=x.touch1,delete x.touch1),x.touch0)x.touch0[1]=this.__zoom.invert(x.touch0[0]);else if(x.end(),x.taps===2&&(D=Nt(D,this),Math.hypot(d[0]-D[0],d[1]-D[1])<S)){var P=bt(this).on("dblclick.zoom");P&&P.apply(this,arguments)}}}return w.wheelDelta=function(p){return arguments.length?(r=typeof p=="function"?p:de(+p),w):r},w.filter=function(p){return arguments.length?(t=typeof p=="function"?p:de(!!p),w):t},w.touchable=function(p){return arguments.length?(i=typeof p=="function"?p:de(!!p),w):i},w.extent=function(p){return arguments.length?(n=typeof p=="function"?p:de([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),w):n},w.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],w):[o[0],o[1]]},w.translateExtent=function(p){return arguments.length?(s[0][0]=+p[0][0],s[1][0]=+p[1][0],s[0][1]=+p[0][1],s[1][1]=+p[1][1],w):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},w.constrain=function(p){return arguments.length?(e=p,w):e},w.duration=function(p){return arguments.length?(a=+p,w):a},w.interpolate=function(p){return arguments.length?(u=p,w):u},w.on=function(){var p=c.on.apply(c,arguments);return p===c?w:p},w.clickDistance=function(p){return arguments.length?(y=(p=+p)*p,w):Math.sqrt(y)},w.tapDistance=function(p){return arguments.length?(S=+p,w):S},w}function Qc(t){var n=0,e=t.children,r=e&&e.length;if(!r)n=1;else for(;--r>=0;)n+=e[r].value;t.value=n}function tu(){return this.eachAfter(Qc)}function eu(t){var n=this,e,r=[n],i,o,s;do for(e=r.reverse(),r=[];n=e.pop();)if(t(n),i=n.children,i)for(o=0,s=i.length;o<s;++o)r.push(i[o]);while(r.length);return this}function nu(t){for(var n=this,e=[n],r,i;n=e.pop();)if(t(n),r=n.children,r)for(i=r.length-1;i>=0;--i)e.push(r[i]);return this}function ru(t){for(var n=this,e=[n],r=[],i,o,s;n=e.pop();)if(r.push(n),i=n.children,i)for(o=0,s=i.length;o<s;++o)e.push(i[o]);for(;n=r.pop();)t(n);return this}function iu(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e})}function ou(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})}function su(t){for(var n=this,e=au(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r}function au(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;for(t=e.pop(),n=r.pop();t===n;)i=t,t=e.pop(),n=r.pop();return i}function lu(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n}function cu(){var t=[];return this.each(function(n){t.push(n)}),t}function uu(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t}function du(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n}function Mn(t,n){var e=new Ne(t),r=+t.value&&(e.value=t.value),i,o=[e],s,a,u,c;for(n==null&&(n=fu);i=o.pop();)if(r&&(i.value=+i.data.value),(a=n(i.data))&&(c=a.length))for(i.children=new Array(c),u=c-1;u>=0;--u)o.push(s=i.children[u]=new Ne(a[u])),s.parent=i,s.depth=i.depth+1;return e.eachBefore(mu)}function hu(){return Mn(this).eachBefore(pu)}function fu(t){return t.children}function pu(t){t.data=t.data.data}function mu(t){var n=0;do t.height=n;while((t=t.parent)&&t.height<++n)}function Ne(t){this.data=t,this.depth=this.height=0,this.parent=null}Ne.prototype=Mn.prototype={constructor:Ne,count:tu,each:eu,eachAfter:ru,eachBefore:nu,sum:iu,sort:ou,path:su,ancestors:lu,descendants:cu,leaves:uu,links:du,copy:hu};const gu="d3-flextree",yu="2.1.2",_u="build/d3-flextree.js",xu="index",vu={name:"Chris Maloney",url:"http://chrismaloney.org"},wu="Flexible tree layout algorithm that allows for variable node sizes.",Eu=["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],bu="https://github.com/klortho/d3-flextree",ku="WTFPL",Su={type:"git",url:"https://github.com/klortho/d3-flextree.git"},Au={clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},Cu={"d3-hierarchy":"^1.1.5"},Nu={"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"},Tu={name:gu,version:yu,main:_u,module:xu,"jsnext:main":"index",author:vu,description:wu,keywords:Eu,homepage:bu,license:ku,repository:Su,scripts:Au,dependencies:Cu,devDependencies:Nu},{version:Mu}=Tu,Ru=Object.freeze({children:t=>t.children,nodeSize:t=>t.data.size,spacing:0});function mi(t){const n=Object.assign({},Ru,t);function e(a){const u=n[a];return typeof u=="function"?u:()=>u}function r(a){const u=s(o(),a,c=>c.children);return u.update(),u.data}function i(){const a=e("nodeSize"),u=e("spacing");return class pi extends Mn.prototype.constructor{constructor(l){super(l)}copy(){const l=s(this.constructor,this,d=>d.children);return l.each(d=>d.data=d.data.data),l}get size(){return a(this)}spacing(l){return u(this,l)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const l=this.ancestors();return l[l.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return this.children===null}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((l,d)=>pi.maxExtents(l,d.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(l,d){return{top:Math.min(l.top,d.top),bottom:Math.max(l.bottom,d.bottom),left:Math.min(l.left,d.left),right:Math.max(l.right,d.right)}}}}function o(){const a=i(),u=e("nodeSize"),c=e("spacing");return class extends a{constructor(l){super(l),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return u(this.data)}spacing(l){return c(this.data,l.data)}get x(){return this.data.x}set x(l){this.data.x=l}get y(){return this.data.y}set y(l){this.data.y=l}update(){return gi(this),yi(this),this}}}function s(a,u,c){const l=(d,f)=>{const h=new a(d);Object.assign(h,{parent:f,depth:f===null?0:f.depth+1,height:0,length:1});const m=c(d)||[];return h.children=m.length===0?null:m.map(y=>l(y,h)),h.children&&Object.assign(h,h.children.reduce((y,S)=>({height:Math.max(y.height,S.height+1),length:y.length+S.length}),h)),h};return l(u,null)}return Object.assign(r,{nodeSize(a){return arguments.length?(n.nodeSize=a,r):n.nodeSize},spacing(a){return arguments.length?(n.spacing=a,r):n.spacing},children(a){return arguments.length?(n.children=a,r):n.children},hierarchy(a,u){const c=typeof u>"u"?n.children:u;return s(i(),a,c)},dump(a){const u=e("nodeSize"),c=l=>d=>{const f=l+"  ",h=l+"    ",{x:m,y}=d,S=u(d),w=d.children||[],C=w.length===0?" ":`,${f}children: [${h}${w.map(c(h)).join(h)}${f}],${l}`;return`{ size: [${S.join(", ")}],${f}x: ${m}, y: ${y}${C}},`};return c(`
`)(a)}}),r}mi.version=Mu;const gi=(t,n=0)=>(t.y=n,(t.children||[]).reduce((e,r)=>{const[i,o]=e;gi(r,t.y+t.ySize);const s=(i===0?r.lExt:r.rExt).bottom;i!==0&&Du(t,i,o);const a=Uu(s,i,o);return[i+1,a]},[0,null]),$u(t),Lu(t),t),yi=(t,n,e)=>{typeof n>"u"&&(n=-t.relX-t.prelim,e=0);const r=n+t.relX;return t.relX=r+t.prelim-e,t.prelim=0,t.x=e+t.relX,(t.children||[]).forEach(i=>yi(i,r,t.x)),t},$u=t=>{(t.children||[]).reduce((n,e)=>{const[r,i]=n,o=r+e.shift,s=i+o+e.change;return e.relX+=s,[o,s]},[0,0])},Du=(t,n,e)=>{const r=t.children[n-1],i=t.children[n];let o=r,s=r.relX,a=i,u=i.relX,c=!0;for(;o&&a;){o.bottom>e.lowY&&(e=e.next);const l=s+o.prelim-(u+a.prelim)+o.xSize/2+a.xSize/2+o.spacing(a);(l>0||l<0&&c)&&(u+=l,Ou(i,l),Iu(t,n,e.index,l)),c=!1;const d=o.bottom,f=a.bottom;d<=f&&(o=zu(o),o&&(s+=o.relX)),d>=f&&(a=Pu(a),a&&(u+=a.relX))}!o&&a?Bu(t,n,a,u):o&&!a&&Fu(t,n,o,s)},Ou=(t,n)=>{t.relX+=n,t.lExtRelX+=n,t.rExtRelX+=n},Iu=(t,n,e,r)=>{const i=t.children[n],o=n-e;if(o>1){const s=r/o;t.children[e+1].shift+=s,i.shift-=s,i.change-=r-s}},Pu=t=>t.hasChildren?t.firstChild:t.lThr,zu=t=>t.hasChildren?t.lastChild:t.rThr,Bu=(t,n,e,r)=>{const i=t.firstChild,o=i.lExt,s=t.children[n];o.lThr=e;const a=r-e.relX-i.lExtRelX;o.relX+=a,o.prelim-=a,i.lExt=s.lExt,i.lExtRelX=s.lExtRelX},Fu=(t,n,e,r)=>{const i=t.children[n],o=i.rExt,s=t.children[n-1];o.rThr=e;const a=r-e.relX-i.rExtRelX;o.relX+=a,o.prelim-=a,i.rExt=s.rExt,i.rExtRelX=s.rExtRelX},Lu=t=>{if(t.hasChildren){const n=t.firstChild,e=t.lastChild,r=(n.prelim+n.relX-n.xSize/2+e.relX+e.prelim+e.xSize/2)/2;Object.assign(t,{prelim:r,lExt:n.lExt,lExtRelX:n.lExtRelX,rExt:e.rExt,rExtRelX:e.rExtRelX})}},Uu=(t,n,e)=>{for(;e!==null&&t>=e.lowY;)e=e.next;return{lowY:t,index:n,next:e}};function pr(t){return function(){return t}}const pn=Math.PI,mn=2*pn,Tt=1e-6,Hu=mn-Tt;function _i(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function qu(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return _i;const e=10**n;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*e)/e+r[i]}}class Xu{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?_i:qu(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,r,i){this._append`Q${+n},${+e},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(n,e,r,i,o,s){this._append`C${+n},${+e},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(n,e,r,i,o){if(n=+n,e=+e,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,a=this._y1,u=r-n,c=i-e,l=s-n,d=a-e,f=l*l+d*d;if(this._x1===null)this._append`M${this._x1=n},${this._y1=e}`;else if(f>Tt)if(!(Math.abs(d*u-c*l)>Tt)||!o)this._append`L${this._x1=n},${this._y1=e}`;else{let h=r-s,m=i-a,y=u*u+c*c,S=h*h+m*m,w=Math.sqrt(y),C=Math.sqrt(f),M=o*Math.tan((pn-Math.acos((y+f-S)/(2*w*C)))/2),R=M/C,z=M/w;Math.abs(R-1)>Tt&&this._append`L${n+R*l},${e+R*d}`,this._append`A${o},${o},0,0,${+(d*h>l*m)},${this._x1=n+z*u},${this._y1=e+z*c}`}}arc(n,e,r,i,o,s){if(n=+n,e=+e,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let a=r*Math.cos(i),u=r*Math.sin(i),c=n+a,l=e+u,d=1^s,f=s?i-o:o-i;this._x1===null?this._append`M${c},${l}`:(Math.abs(this._x1-c)>Tt||Math.abs(this._y1-l)>Tt)&&this._append`L${c},${l}`,r&&(f<0&&(f=f%mn+mn),f>Hu?this._append`A${r},${r},0,1,${d},${n-a},${e-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=l}`:f>Tt&&this._append`A${r},${r},0,${+(f>=pn)},${d},${this._x1=n+r*Math.cos(o)},${this._y1=e+r*Math.sin(o)}`)}rect(n,e,r,i){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Yu(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(e==null)n=null;else{const r=Math.floor(e);if(!(r>=0))throw new RangeError(`invalid digits: ${e}`);n=r}return t},()=>new Xu(n)}var Wu=Array.prototype.slice;function ju(t){return t[0]}function Vu(t){return t[1]}class Ju{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:{this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e);break}}this._x0=n,this._y0=e}}function Gu(t){return new Ju(t,!0)}function Ku(t){return t.source}function Zu(t){return t.target}function Qu(t){let n=Ku,e=Zu,r=ju,i=Vu,o=null,s=null,a=Yu(u);function u(){let c;const l=Wu.call(arguments),d=n.apply(this,l),f=e.apply(this,l);if(o==null&&(s=t(c=a())),s.lineStart(),l[0]=d,s.point(+r.apply(this,l),+i.apply(this,l)),l[0]=f,s.point(+r.apply(this,l),+i.apply(this,l)),s.lineEnd(),c)return s=null,c+""||null}return u.source=function(c){return arguments.length?(n=c,u):n},u.target=function(c){return arguments.length?(e=c,u):e},u.x=function(c){return arguments.length?(r=typeof c=="function"?c:pr(+c),u):r},u.y=function(c){return arguments.length?(i=typeof c=="function"?c:pr(+c),u):i},u.context=function(c){return arguments.length?(c==null?o=s=null:s=t(o=c),u):o},u}function td(){return Qu(Gu)}const B={selection:Ht,select:bt,max:ka,min:Sa,sum:Aa,cumsum:ba,tree:rl,stratify:Ga,zoom:Zc,zoomIdentity:Tn,linkHorizontal:td};let ed=class{constructor(){const n={id:`ID${Math.floor(Math.random()*1e6)}`,firstDraw:!0,svgWidth:800,svgHeight:window.innerHeight-100,scaleExtent:[.001,20],container:"body",defaultTextFill:"#2C3E50",defaultFont:"Helvetica",ctx:document.createElement("canvas").getContext("2d"),data:null,duration:400,setActiveNodeCentered:!0,expandLevel:1,compact:!0,rootMargin:40,nodeDefaultBackground:"none",connections:[],lastTransform:{x:0,y:0,k:1},nodeId:e=>e.nodeId||e.id,parentNodeId:e=>e.parentNodeId||e.parentId,backgroundColor:"none",zoomBehavior:null,defs:function(e,r){return`<defs>
                    ${r.map(i=>{const o=this.getTextWidth(i.label,{ctx:e.ctx,fontSize:2,defaultFont:e.defaultFont});return`
                       <marker id="${i.from+"_"+i.to}" refX="${i._source.x<i._target.x?-7:7}" refY="5" markerWidth="500"  markerHeight="500"  orient="${i._source.x<i._target.x?"auto":"auto-start-reverse"}" >
                       <rect rx=0.5 width=${i.label?o+3:0} height=3 y=1  fill="#152785"></rect>
                       <text font-size="2px" x=1 fill="white" y=3>${i.label||""}</text>
                       </marker>

                       <marker id="arrow-${i.from+"_"+i.to}"  markerWidth="500"  markerHeight="500"  refY="2"  refX="1" orient="${i._source.x<i._target.x?"auto":"auto-start-reverse"}" >
                       <path transform="translate(0)" d='M0,0 V4 L2,2 Z' fill='#152785' />
                       </marker>
                    `}).join("")}
                    </defs>
                    `},connectionsUpdate:function(e,r,i){B.select(this).attr("stroke",o=>"#152785").attr("stroke-linecap","round").attr("stroke-width",o=>"5").attr("pointer-events","none").attr("marker-start",o=>`url(#${o.from+"_"+o.to})`).attr("marker-end",o=>`url(#arrow-${o.from+"_"+o.to})`)},linkUpdate:function(e,r,i){B.select(this).attr("stroke",o=>o.data._upToTheRootHighlighted?"#152785":"lightgray").attr("stroke-width",o=>o.data._upToTheRootHighlighted?5:2),e.data._upToTheRootHighlighted&&B.select(this).raise()},nodeUpdate:function(e,r,i){B.select(this).select(".node-rect").attr("stroke",o=>o.data._highlighted||o.data._upToTheRootHighlighted?"#152785":"none").attr("stroke-width",e.data._highlighted||e.data._upToTheRootHighlighted?10:1)},nodeWidth:e=>250,nodeHeight:e=>150,siblingsMargin:e=>20,childrenMargin:e=>60,neightbourMargin:(e,r)=>80,compactMarginPair:e=>100,compactMarginBetween:e=>20,onNodeClick:e=>e,linkGroupArc:B.linkHorizontal().x(e=>e.x).y(e=>e.y),nodeContent:e=>`<div style="padding:5px;font-size:10px;">Sample Node(id=${e.id}), override using <br/> <br/> 
            <code>chart<br/>
            &nbsp;.nodeContent({data}=>{ <br/>
             &nbsp;&nbsp;&nbsp;&nbsp;return '' // Custom HTML <br/>
             &nbsp;})</code>
             <br/> <br/>
             Or check different <a href="https://github.com/bumbeishvili/org-chart#jump-to-examples" target="_blank">layout examples</a>
             
             </div>`,layout:"top",buttonContent:({node:e,state:r})=>`<div style="border-radius:3px;padding:3px;font-size:10px;margin:auto auto;background-color:lightgray"> ${{left:o=>o?'<div style="margin-top:-10px;line-height:1.2;font-size:25px;height:22px"></div>':'<div style="margin-top:-10px;font-size:25px;height:23px"></div>',bottom:o=>o?'<div style="margin-top:-20px;font-size:25px"></div>':'<div style="margin-top:0px;line-height:1.2;height:11px;font-size:25px"></div>',right:o=>o?'<div style="margin-top:-10px;font-size:25px;height:23px"></div>':'<div style="margin-top:-10px;line-height:1.2;font-size:25px;height:22px"></div>',top:o=>o?'<div style="margin-top:0px;line-height:1.2;height:11px;font-size:25px"></div>':'<div style="margin-top:-20px;font-size:25px"></div>'}[r.layout](e.children)}  </div>`,layoutBindings:{left:{nodeLeftX:e=>0,nodeRightX:e=>e.width,nodeTopY:e=>-e.height/2,nodeBottomY:e=>e.height/2,nodeJoinX:e=>e.x+e.width,nodeJoinY:e=>e.y-e.height/2,linkJoinX:e=>e.x+e.width,linkJoinY:e=>e.y,linkX:e=>e.x,linkY:e=>e.y,linkCompactXStart:e=>e.x+e.width/2,linkCompactYStart:e=>e.y+(e.compactEven?e.height/2:-e.height/2),compactLinkMidX:(e,r)=>e.firstCompactNode.x,compactLinkMidY:(e,r)=>e.firstCompactNode.y+e.firstCompactNode.flexCompactDim[0]/4+r.compactMarginPair(e)/4,linkParentX:e=>e.parent.x+e.parent.width,linkParentY:e=>e.parent.y,buttonX:e=>e.width,buttonY:e=>e.height/2,centerTransform:({root:e,rootMargin:r,centerY:i,scale:o,centerX:s})=>`translate(${r},${i}) scale(${o})`,compactDimension:{sizeColumn:e=>e.height,sizeRow:e=>e.width,reverse:e=>e.slice().reverse()},nodeFlexSize:({height:e,width:r,siblingsMargin:i,childrenMargin:o,state:s,node:a})=>s.compact&&a.flexCompactDim?[a.flexCompactDim[0],a.flexCompactDim[1]]:[e+i,r+o],zoomTransform:({centerY:e,scale:r})=>`translate(0,${e}) scale(${r})`,diagonal:this.hdiagonal.bind(this),swap:e=>{const r=e.x;e.x=e.y,e.y=r},nodeUpdateTransform:({x:e,y:r,width:i,height:o})=>`translate(${e},${r-o/2})`},top:{nodeLeftX:e=>-e.width/2,nodeRightX:e=>e.width/2,nodeTopY:e=>0,nodeBottomY:e=>e.height,nodeJoinX:e=>e.x-e.width/2,nodeJoinY:e=>e.y+e.height,linkJoinX:e=>e.x,linkJoinY:e=>e.y+e.height,linkCompactXStart:e=>e.x+(e.compactEven?e.width/2:-e.width/2),linkCompactYStart:e=>e.y+e.height/2,compactLinkMidX:(e,r)=>e.firstCompactNode.x+e.firstCompactNode.flexCompactDim[0]/4+r.compactMarginPair(e)/4,compactLinkMidY:e=>e.firstCompactNode.y,compactDimension:{sizeColumn:e=>e.width,sizeRow:e=>e.height,reverse:e=>e},linkX:e=>e.x,linkY:e=>e.y,linkParentX:e=>e.parent.x,linkParentY:e=>e.parent.y+e.parent.height,buttonX:e=>e.width/2,buttonY:e=>e.height,centerTransform:({root:e,rootMargin:r,centerY:i,scale:o,centerX:s})=>`translate(${s},${r}) scale(${o})`,nodeFlexSize:({height:e,width:r,siblingsMargin:i,childrenMargin:o,state:s,node:a,compactViewIndex:u})=>s.compact&&a.flexCompactDim?[a.flexCompactDim[0],a.flexCompactDim[1]]:[r+i,e+o],zoomTransform:({centerX:e,scale:r})=>`translate(${e},0}) scale(${r})`,diagonal:this.diagonal.bind(this),swap:e=>{},nodeUpdateTransform:({x:e,y:r,width:i,height:o})=>`translate(${e-i/2},${r})`},bottom:{nodeLeftX:e=>-e.width/2,nodeRightX:e=>e.width/2,nodeTopY:e=>-e.height,nodeBottomY:e=>0,nodeJoinX:e=>e.x-e.width/2,nodeJoinY:e=>e.y-e.height-e.height,linkJoinX:e=>e.x,linkJoinY:e=>e.y-e.height,linkCompactXStart:e=>e.x+(e.compactEven?e.width/2:-e.width/2),linkCompactYStart:e=>e.y-e.height/2,compactLinkMidX:(e,r)=>e.firstCompactNode.x+e.firstCompactNode.flexCompactDim[0]/4+r.compactMarginPair(e)/4,compactLinkMidY:e=>e.firstCompactNode.y,linkX:e=>e.x,linkY:e=>e.y,compactDimension:{sizeColumn:e=>e.width,sizeRow:e=>e.height,reverse:e=>e},linkParentX:e=>e.parent.x,linkParentY:e=>e.parent.y-e.parent.height,buttonX:e=>e.width/2,buttonY:e=>0,centerTransform:({root:e,rootMargin:r,centerY:i,scale:o,centerX:s,chartHeight:a})=>`translate(${s},${a-r}) scale(${o})`,nodeFlexSize:({height:e,width:r,siblingsMargin:i,childrenMargin:o,state:s,node:a})=>s.compact&&a.flexCompactDim?[a.flexCompactDim[0],a.flexCompactDim[1]]:[r+i,e+o],zoomTransform:({centerX:e,scale:r})=>`translate(${e},0}) scale(${r})`,diagonal:this.diagonal.bind(this),swap:e=>{e.y=-e.y},nodeUpdateTransform:({x:e,y:r,width:i,height:o})=>`translate(${e-i/2},${r-o})`},right:{nodeLeftX:e=>-e.width,nodeRightX:e=>0,nodeTopY:e=>-e.height/2,nodeBottomY:e=>e.height/2,nodeJoinX:e=>e.x-e.width-e.width,nodeJoinY:e=>e.y-e.height/2,linkJoinX:e=>e.x-e.width,linkJoinY:e=>e.y,linkX:e=>e.x,linkY:e=>e.y,linkParentX:e=>e.parent.x-e.parent.width,linkParentY:e=>e.parent.y,buttonX:e=>0,buttonY:e=>e.height/2,linkCompactXStart:e=>e.x-e.width/2,linkCompactYStart:e=>e.y+(e.compactEven?e.height/2:-e.height/2),compactLinkMidX:(e,r)=>e.firstCompactNode.x,compactLinkMidY:(e,r)=>e.firstCompactNode.y+e.firstCompactNode.flexCompactDim[0]/4+r.compactMarginPair(e)/4,centerTransform:({root:e,rootMargin:r,centerY:i,scale:o,centerX:s,chartWidth:a})=>`translate(${a-r},${i}) scale(${o})`,nodeFlexSize:({height:e,width:r,siblingsMargin:i,childrenMargin:o,state:s,node:a})=>s.compact&&a.flexCompactDim?[a.flexCompactDim[0],a.flexCompactDim[1]]:[e+i,r+o],compactDimension:{sizeColumn:e=>e.height,sizeRow:e=>e.width,reverse:e=>e.slice().reverse()},zoomTransform:({centerY:e,scale:r})=>`translate(0,${e}) scale(${r})`,diagonal:this.hdiagonal.bind(this),swap:e=>{const r=e.x;e.x=-e.y,e.y=r},nodeUpdateTransform:({x:e,y:r,width:i,height:o})=>`translate(${e-i},${r-o/2})`}}};this.getChartState=()=>n,Object.keys(n).forEach(e=>{this[e]=function(r){if(arguments.length)n[e]=r;else return n[e];return this}}),this.initializeEnterExitUpdatePattern()}initializeEnterExitUpdatePattern(){B.selection.prototype.patternify=function(n){var e=this,r=n.selector,i=n.tag,o=n.data||[r],s=e.selectAll("."+r).data(o,(a,u)=>typeof a=="object"&&a.id?a.id:u);return s.exit().remove(),s=s.enter().append(i).merge(s),s.attr("class",r),s}}getNodeChildren({data:n,children:e,_children:r},i){return i.push(n),e&&e.forEach(o=>{this.getNodeChildren(o,i)}),r&&r.forEach(o=>{this.getNodeChildren(o,i)}),i}initialZoom(n){const e=this.getChartState();return e.lastTransform.k=n,this}render(){const n=this.getChartState();if(!n.data||n.data.length==0)return console.log("ORG CHART - Data is empty"),this;const e=B.select(n.container),r=e.node().getBoundingClientRect();r.width>0&&(n.svgWidth=r.width);const i={id:`ID${Math.floor(Math.random()*1e6)}`,chartWidth:n.svgWidth,chartHeight:n.svgHeight};if(n.calc=i,i.centerX=i.chartWidth/2,i.centerY=i.chartHeight/2,n.firstDraw){const a={zoom:null};a.zoom=B.zoom().on("zoom",(u,c)=>this.zoomed(u,c)).scaleExtent(n.scaleExtent),n.zoomBehavior=a.zoom}n.flexTreeLayout=mi({nodeSize:a=>{const u=n.nodeWidth(a),c=n.nodeHeight(a),l=n.siblingsMargin(a),d=n.childrenMargin(a);return n.layoutBindings[n.layout].nodeFlexSize({state:n,node:a,width:u,height:c,siblingsMargin:l,childrenMargin:d})}}).spacing((a,u)=>a.parent==u.parent?0:n.neightbourMargin(a,u)),this.setLayouts({expandNodesFirst:!1});const o=e.patternify({tag:"svg",selector:"svg-chart-container"}).style("background-color",n.backgroundColor).attr("width",n.svgWidth).attr("height",n.svgHeight).attr("font-family",n.defaultFont);n.firstDraw&&o.call(n.zoomBehavior).on("dblclick.zoom",null).attr("cursor","move"),n.svg=o;const s=o.patternify({tag:"g",selector:"chart"});return n.centerG=s.patternify({tag:"g",selector:"center-group"}),n.linksWrapper=n.centerG.patternify({tag:"g",selector:"links-wrapper"}),n.nodesWrapper=n.centerG.patternify({tag:"g",selector:"nodes-wrapper"}),n.connectionsWrapper=n.centerG.patternify({tag:"g",selector:"connections-wrapper"}),n.defsWrapper=o.patternify({tag:"g",selector:"defs-wrapper"}),n.firstDraw&&n.centerG.attr("transform",()=>n.layoutBindings[n.layout].centerTransform({centerX:i.centerX,centerY:i.centerY,scale:n.lastTransform.k,rootMargin:n.rootMargin,root:n.root,chartHeight:i.chartHeight,chartWidth:i.chartWidth})),n.chart=s,this.update(n.root),B.select(window).on(`resize.${n.id}`,()=>{const a=B.select(n.container).node().getBoundingClientRect();n.svg.attr("width",a.width)}),n.firstDraw&&(n.firstDraw=!1),this}addNode(n){const e=this.getChartState(),r=e.allNodes.filter(({data:o})=>e.nodeId(o)===e.nodeId(n))[0],i=e.allNodes.filter(({data:o})=>e.nodeId(o)===e.parentNodeId(n))[0];return r?(console.log(`ORG CHART - ADD - Node with id "${e.nodeId(n)}" already exists in tree`),this):i?(n._centered&&!n._expanded&&(n._expanded=!0),e.data.push(n),this.updateNodesState(),this):(console.log(`ORG CHART - ADD - Parent node with id "${e.parentNodeId(n)}" not found in the tree`),this)}removeNode(n){const e=this.getChartState(),r=e.allNodes.filter(({data:s})=>e.nodeId(s)==n)[0];return r?(r.descendants().forEach(s=>s.data._filteredOut=!0),this.getNodeChildren(r,[],e.nodeId).forEach(s=>s._filtered=!0),e.data=e.data.filter(s=>!s._filtered),this.updateNodesState.bind(this)(),this):(console.log(`ORG CHART - REMOVE - Node with id "${n}" not found in the tree`),this)}groupBy(n,e,r){const i={};return n.forEach(o=>{const s=e(o);i[s]||(i[s]=[]),i[s].push(o)}),Object.keys(i).forEach(o=>{i[o]=r(i[o])}),Object.entries(i)}calculateCompactFlexDimensions(n){const e=this.getChartState();n.eachBefore(r=>{r.firstCompact=null,r.compactEven=null,r.flexCompactDim=null,r.firstCompactNode=null}),n.eachBefore(r=>{if(r.children&&r.children.length>1){const i=r.children.filter(l=>!l.children);if(i.length<2)return;i.forEach((l,d)=>{d||(l.firstCompact=!0),d%2?l.compactEven=!1:l.compactEven=!0,l.row=Math.floor(d/2)});const o=B.max(i.filter(l=>l.compactEven),e.layoutBindings[e.layout].compactDimension.sizeColumn),s=B.max(i.filter(l=>!l.compactEven),e.layoutBindings[e.layout].compactDimension.sizeColumn),a=Math.max(o,s)*2,u=this.groupBy(i,l=>l.row,l=>B.max(l,d=>e.layoutBindings[e.layout].compactDimension.sizeRow(d)+e.compactMarginBetween(d))),c=B.sum(u.map(l=>l[1]));i.forEach(l=>{l.firstCompactNode=i[0],l.firstCompact?l.flexCompactDim=[a+e.compactMarginPair(l),c-e.compactMarginBetween(l)]:l.flexCompactDim=[0,0]}),r.flexCompactDim=null}})}calculateCompactFlexPositions(n){const e=this.getChartState();n.eachBefore(r=>{if(r.children){const i=r.children.filter(l=>l.flexCompactDim),o=i[0];if(!o)return;i.forEach((l,d,f)=>{d==0&&(o.x-=o.flexCompactDim[0]/2),d&d%2-1?l.x=o.x+o.flexCompactDim[0]*.25-e.compactMarginPair(l)/4:d&&(l.x=o.x+o.flexCompactDim[0]*.75+e.compactMarginPair(l)/4)});const s=o.x+o.flexCompactDim[0]*.5;o.x=o.x+o.flexCompactDim[0]*.25-e.compactMarginPair(o)/4;const a=r.x-s;Math.abs(a)<10&&i.forEach(l=>l.x+=a);const u=this.groupBy(i,l=>l.row,l=>B.max(l,d=>e.layoutBindings[e.layout].compactDimension.sizeRow(d))),c=B.cumsum(u.map(l=>l[1]+e.compactMarginBetween(l)));i.forEach((l,d)=>{l.row?l.y=o.y+c[l.row-1]:l.y=o.y})}})}update({x0:n,y0:e,x:r=0,y:i=0,width:o,height:s}){const a=this.getChartState();a.calc,a.compact&&this.calculateCompactFlexDimensions(a.root);const u=a.flexTreeLayout(a.root);a.compact&&this.calculateCompactFlexPositions(a.root);const c=u.descendants(),l=u.descendants().slice(1);c.forEach(a.layoutBindings[a.layout].swap);const d=a.connections,f={};a.allNodes.forEach(v=>f[a.nodeId(v.data)]=v);const h={};c.forEach(v=>h[a.nodeId(v.data)]=v),d.forEach(v=>{const p=f[v.from],b=f[v.to];v._source=p,v._target=b});const m=d.filter(v=>h[v.from]&&h[v.to]),y=a.defs.bind(this)(a,m),S=a.defsWrapper.html();y!==S&&a.defsWrapper.html(y);const w=a.linksWrapper.selectAll("path.link").data(l,v=>a.nodeId(v.data)),M=w.enter().insert("path","g").attr("class","link").attr("d",v=>{const p=a.layoutBindings[a.layout].linkJoinX({x:n,y:e,width:o,height:s}),b=a.layoutBindings[a.layout].linkJoinY({x:n,y:e,width:o,height:s}),x={x:p,y:b};return a.layoutBindings[a.layout].diagonal(x,x,x)}).merge(w);M.attr("fill","none"),M.each(a.linkUpdate),M.transition().duration(a.duration).attr("d",v=>{const p=a.compact&&v.flexCompactDim?{x:a.layoutBindings[a.layout].compactLinkMidX(v,a),y:a.layoutBindings[a.layout].compactLinkMidY(v,a)}:{x:a.layoutBindings[a.layout].linkX(v),y:a.layoutBindings[a.layout].linkY(v)},b={x:a.layoutBindings[a.layout].linkParentX(v),y:a.layoutBindings[a.layout].linkParentY(v)},x=a.compact&&v.flexCompactDim?{x:a.layoutBindings[a.layout].linkCompactXStart(v),y:a.layoutBindings[a.layout].linkCompactYStart(v)}:p;return a.layoutBindings[a.layout].diagonal(p,b,x)}),w.exit().transition().duration(a.duration).attr("d",v=>{const p=a.layoutBindings[a.layout].linkJoinX({x:r,y:i,width:o,height:s}),b=a.layoutBindings[a.layout].linkJoinY({x:r,y:i,width:o,height:s}),x={x:p,y:b};return a.layoutBindings[a.layout].diagonal(x,x)}).remove();const R=a.connectionsWrapper.selectAll("path.connection").data(m),q=R.enter().insert("path","g").attr("class","connection").attr("d",v=>{const p=a.layoutBindings[a.layout].linkJoinX({x:n,y:e,width:o,height:s}),b=a.layoutBindings[a.layout].linkJoinY({x:n,y:e,width:o,height:s}),x={x:p,y:b};return a.layoutBindings[a.layout].diagonal(x,x)}).merge(R);q.attr("fill","none"),q.transition().duration(a.duration).attr("d",v=>{const p=a.layoutBindings[a.layout].linkX({x:v._source.x,y:v._source.y,width:v._source.width,height:v._source.height}),b=a.layoutBindings[a.layout].linkY({x:v._source.x,y:v._source.y,width:v._source.width,height:v._source.height}),x=a.layoutBindings[a.layout].linkJoinX({x:v._target.x,y:v._target.y,width:v._target.width,height:v._target.height}),A=a.layoutBindings[a.layout].linkJoinY({x:v._target.x,y:v._target.y,width:v._target.width,height:v._target.height});return a.linkGroupArc({source:{x:p,y:b},target:{x,y:A}})}),q.each(a.connectionsUpdate),R.exit().transition().duration(a.duration).attr("opacity",0).remove();const V=a.nodesWrapper.selectAll("g.node").data(c,({data:v})=>a.nodeId(v)),_t=V.enter().append("g").attr("class","node").attr("transform",v=>{if(v==a.root)return`translate(${n},${e})`;const p=a.layoutBindings[a.layout].nodeJoinX({x:n,y:e,width:o,height:s}),b=a.layoutBindings[a.layout].nodeJoinY({x:n,y:e,width:o,height:s});return`translate(${p},${b})`}).attr("cursor","pointer").on("click",(v,{data:p})=>{[...v.srcElement.classList].includes("node-button-foreign-object")||a.onNodeClick(a.nodeId(p))});_t.patternify({tag:"rect",selector:"node-rect",data:v=>[v]});const J=_t.merge(V).style("font","12px sans-serif");J.patternify({tag:"foreignObject",selector:"node-foreign-object",data:v=>[v]}).style("overflow","visible").patternify({tag:"xhtml:div",selector:"node-foreign-object-div",data:v=>[v]}),this.restyleForeignObjectElements();const ae=_t.patternify({tag:"g",selector:"node-button-g",data:v=>[v]}).on("click",(v,p)=>this.onButtonClick(v,p)).on("keydown",(v,p)=>{(v.key==="Enter"||v.key===" "||v.key==="Spacebar")&&this.onButtonClick(v,p)});ae.patternify({tag:"rect",selector:"node-button-rect",data:v=>[v]}).attr("opacity",0).attr("pointer-events","all").attr("width",40).attr("height",40).attr("x",-20).attr("y",-20),ae.patternify({tag:"foreignObject",selector:"node-button-foreign-object",data:v=>[v]}).attr("width",40).attr("height",40).attr("x",-20).attr("y",-20).style("overflow","visible").patternify({tag:"xhtml:div",selector:"node-button-div",data:v=>[v]}).style("pointer-events","none").style("display","flex").style("width","100%").style("height","100%"),J.transition().attr("opacity",0).duration(a.duration).attr("transform",({x:v,y:p,width:b,height:x})=>a.layoutBindings[a.layout].nodeUpdateTransform({x:v,y:p,width:b,height:x})).attr("opacity",1),J.select(".node-rect").attr("width",({width:v})=>v).attr("height",({height:v})=>v).attr("x",({width:v})=>0).attr("y",({height:v})=>0).attr("cursor","pointer").attr("rx",3).attr("fill",a.nodeDefaultBackground),J.select(".node-button-g").attr("transform",({data:v,width:p,height:b})=>{const x=a.layoutBindings[a.layout].buttonX({width:p,height:b}),A=a.layoutBindings[a.layout].buttonY({width:p,height:b});return`translate(${x},${A})`}).attr("display",({data:v})=>v._directSubordinates>0?null:"none").attr("opacity",({children:v,_children:p})=>v||p?1:0),J.select(".node-button-foreign-object .node-button-div").html(v=>a.buttonContent({node:v,state:a})),J.select(".node-button-text").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("fill",a.defaultTextFill).attr("font-size",({children:v})=>v?40:26).text(({children:v})=>v?"-":"+").attr("y",this.isEdge()?10:0),J.each(a.nodeUpdate),V.exit().attr("opacity",1).transition().duration(a.duration).attr("transform",v=>{const p=a.layoutBindings[a.layout].nodeJoinX({x:r,y:i,width:o,height:s}),b=a.layoutBindings[a.layout].nodeJoinY({x:r,y:i,width:o,height:s});return`translate(${p},${b})`}).on("end",function(){B.select(this).remove()}).attr("opacity",0),c.forEach(v=>{v.x0=v.x,v.y0=v.y});const xt=a.allNodes.filter(v=>v.data._centered)[0];if(xt){const v=xt.data._centeredWithDescendants?xt.descendants().filter((p,b)=>b<7):[xt];xt.data._centeredWithDescendants=null,xt.data._centered=null,this.fit({animate:!0,scale:!1,nodes:v})}}isEdge(){return window.navigator.userAgent.includes("Edge")}hdiagonal(n,e,r){const i=n.x,o=n.y,s=e.x,a=e.y;let u=r&&r.x||i,c=r&&r.y||o,l=s-i<0?-1:1,d=a-o<0?-1:1,f=35,h=Math.abs(s-i)/2<f?Math.abs(s-i)/2:f;h=Math.abs(a-o)/2<h?Math.abs(a-o)/2:h;let m=Math.abs(s-i)/2-h;return`
                  M ${u} ${c}
                  L ${u} ${o}
                  L ${i} ${o}
                  L ${i+m*l} ${o}
                  C ${i+m*l+h*l} ${o} 
                    ${i+m*l+h*l} ${o} 
                    ${i+m*l+h*l} ${o+h*d}
                  L ${i+m*l+h*l} ${a-h*d} 
                  C ${i+m*l+h*l}  ${a} 
                    ${i+m*l+h*l}  ${a} 
                    ${s-m*l}  ${a}
                  L ${s} ${a}
       `}diagonal(n,e,r){const i=n.x,o=n.y,s=e.x,a=e.y;let u=r&&r.x||i,c=r&&r.y||o,l=s-i<0?-1:1,d=a-o<0?-1:1,f=35,h=Math.abs(s-i)/2<f?Math.abs(s-i)/2:f;h=Math.abs(a-o)/2<h?Math.abs(a-o)/2:h;let m=Math.abs(a-o)/2-h,y=Math.abs(s-i)-h*2;return`
                  M ${u} ${c}
                  L ${i} ${c}
                  L ${i} ${o}
                  L ${i} ${o+m*d}
                  C  ${i} ${o+m*d+h*d} ${i} ${o+m*d+h*d} ${i+h*l} ${o+m*d+h*d}
                  L ${i+y*l+h*l} ${o+m*d+h*d}
                  C  ${s}  ${o+m*d+h*d} ${s}  ${o+m*d+h*d} ${s} ${a-m*d}
                  L ${s} ${a}
       `}restyleForeignObjectElements(){const n=this.getChartState();n.svg.selectAll(".node-foreign-object").attr("width",({width:e})=>e).attr("height",({height:e})=>e).attr("x",({width:e})=>0).attr("y",({height:e})=>0),n.svg.selectAll(".node-foreign-object-div").style("width",({width:e})=>`${e}px`).style("height",({height:e})=>`${e}px`).html(function(e,r,i){return n.nodeContent.bind(this)(e,r,i,n)})}onButtonClick(n,e){this.getChartState().setActiveNodeCentered&&(e.data._centered=!0,e.data._centeredWithDescendants=!0),e.children?(e._children=e.children,e.children=null,this.setExpansionFlagToChildren(e,!1)):(e.children=e._children,e._children=null,e.children&&e.children.forEach(({data:i})=>i._expanded=!0)),this.update(e)}setExpansionFlagToChildren({data:n,children:e,_children:r},i){n._expanded=i,e&&e.forEach(o=>{this.setExpansionFlagToChildren(o,i)}),r&&r.forEach(o=>{this.setExpansionFlagToChildren(o,i)})}expandSomeNodes(n){if(n.data._expanded){let e=n.parent;for(;e;)e._children&&(e.children=e._children),e=e.parent}n._children&&n._children.forEach(e=>this.expandSomeNodes(e)),n.children&&n.children.forEach(e=>this.expandSomeNodes(e))}updateNodesState(){const n=this.getChartState();this.setLayouts({expandNodesFirst:!0}),this.update(n.root)}setLayouts({expandNodesFirst:n=!0}){const e=this.getChartState();e.root=B.stratify().id(r=>e.nodeId(r)).parentId(r=>e.parentNodeId(r))(e.data),e.root.each((r,i,o)=>{let s=e.nodeWidth(r),a=e.nodeHeight(r);Object.assign(r,{width:s,height:a})}),e.root.x0=0,e.root.y0=0,e.allNodes=e.root.descendants(),e.allNodes.forEach(r=>{Object.assign(r.data,{_directSubordinates:r.children?r.children.length:0,_totalSubordinates:r.descendants().length-1})}),e.root.children&&(n&&e.root.children.forEach(this.expand),e.root.children.forEach(r=>this.collapse(r)),e.expandLevel==0&&(e.root._children=e.root.children,e.root.children=null),[e.root].forEach(r=>this.expandSomeNodes(r)))}collapse(n){n.children&&(n._children=n.children,n._children.forEach(e=>this.collapse(e)),n.children=null)}expand(n){n._children&&(n.children=n._children,n.children.forEach(e=>this.expand(e)),n._children=null)}zoomed(n,e){const r=this.getChartState(),i=r.chart,o=n.transform;r.lastTransform=o,i.attr("transform",o),this.isEdge()&&this.restyleForeignObjectElements()}zoomTreeBounds({x0:n,x1:e,y0:r,y1:i,params:o={animate:!0,scale:!0}}){const{centerG:s,svgWidth:a,svgHeight:u,svg:c,zoomBehavior:l,duration:d,lastTransform:f}=this.getChartState();let h=Math.min(8,.9/Math.max((e-n)/a,(i-r)/u)),m=B.zoomIdentity.translate(a/2,u/2);m=m.scale(o.scale?h:f.k),m=m.translate(-(n+e)/2,-(r+i)/2),c.transition().duration(o.animate?d:0).call(l.transform,m),s.transition().duration(o.animate?d:0).attr("transform","translate(0,0)")}fit({animate:n=!0,nodes:e,scale:r=!0}={}){const i=this.getChartState(),{root:o}=i;let s=e||o.descendants();const a=B.min(s,d=>d.x+i.layoutBindings[i.layout].nodeLeftX(d)),u=B.max(s,d=>d.x+i.layoutBindings[i.layout].nodeRightX(d)),c=B.min(s,d=>d.y+i.layoutBindings[i.layout].nodeTopY(d)),l=B.max(s,d=>d.y+i.layoutBindings[i.layout].nodeBottomY(d));return this.zoomTreeBounds({params:{animate:n,scale:r},x0:a-50,x1:u+50,y0:c-50,y1:l+50}),this}setExpanded(n,e=!0){const r=this.getChartState(),i=r.allNodes.filter(({data:o})=>r.nodeId(o)==n)[0];return i?(i.data._expanded=e,this):(console.log(`ORG CHART - ${e?"EXPAND":"COLLAPSE"} - Node with id (${n})  not found in the tree`),this)}setCentered(n){const e=this.getChartState(),r=e.allNodes.filter(i=>e.nodeId(i.data)===n)[0];return r?(r.data._centered=!0,r.data._expanded=!0,this):(console.log(`ORG CHART - CENTER - Node with id (${n}) not found in the tree`),this)}setHighlighted(n){const e=this.getChartState(),r=e.allNodes.filter(i=>e.nodeId(i.data)===n)[0];return r?(r.data._highlighted=!0,r.data._expanded=!0,r.data._centered=!0,this):(console.log(`ORG CHART - HIGHLIGHT - Node with id (${n})  not found in the tree`),this)}setUpToTheRootHighlighted(n){const e=this.getChartState(),r=e.allNodes.filter(i=>e.nodeId(i.data)===n)[0];return r?(r.data._upToTheRootHighlighted=!0,r.data._expanded=!0,r.ancestors().forEach(i=>i.data._upToTheRootHighlighted=!0),this):(console.log(`ORG CHART - HIGHLIGHTROOT - Node with id (${n}) not found in the tree`),this)}clearHighlighting(){const n=this.getChartState();n.allNodes.forEach(e=>{e.data._highlighted=!1,e.data._upToTheRootHighlighted=!1}),this.update(n.root)}fullscreen(n){const e=this.getChartState(),r=B.select(n||e.container).node();B.select(document).on("fullscreenchange."+e.id,function(i){(document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement)==r?setTimeout(s=>{e.svg.attr("height",window.innerHeight-40)},500):e.svg.attr("height",e.svgHeight)}),r.requestFullscreen?r.requestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen?r.webkitRequestFullscreen():r.msRequestFullscreen&&r.msRequestFullscreen()}zoomIn(){const{svg:n,zoomBehavior:e}=this.getChartState();n.transition().call(e.scaleBy,1.3)}zoomOut(){const{svg:n,zoomBehavior:e}=this.getChartState();n.transition().call(e.scaleBy,.78)}toDataURL(n,e){var r=new XMLHttpRequest;r.onload=function(){var i=new FileReader;i.onloadend=function(){e(i.result)},i.readAsDataURL(r.response)},r.open("GET",n),r.responseType="blob",r.send()}exportImg({full:n=!1,scale:e=3,onLoad:r=o=>o,save:i=!0}={}){const o=this,s=this.getChartState(),{svg:a,root:u}=s;let c=0;const l=a.selectAll("img");let d=l.size();const f=()=>{JSON.parse(JSON.stringify(o.lastTransform()));const h=o.duration();n&&o.fit();const{svg:m}=o.getChartState();setTimeout(y=>{o.downloadImage({node:m.node(),scale:e,isSvg:!1,onAlreadySerialized:S=>{o.update(u)},onLoad:r,save:i})},n?h+10:0)};d>0?l.each(function(){o.toDataURL(this.src,h=>{this.src=h,++c==d&&f()})}):f()}exportSvg(){const{svg:n}=this.getChartState();return this.downloadImage({node:n.node(),scale:3,isSvg:!0}),this}expandAll(){const{allNodes:n,root:e}=this.getChartState();return n.forEach(r=>r.data._expanded=!0),this.render(),this}collapseAll(){const{allNodes:n,root:e}=this.getChartState();return n.forEach(r=>r.data._expanded=!1),this.expandLevel(0),this.render(),this}downloadImage({node:n,scale:e=2,isSvg:r=!1,save:i=!0,onAlreadySerialized:o=a=>{},onLoad:s=a=>{}}){const a=n;if(r){let h=f(a);h=`<?xml version="1.0" standalone="no"?>\r
`+h;var l="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(h);d(l,"graph.svg"),o();return}const u=e,c=document.createElement("img");c.onload=function(){const h=document.createElement("canvas"),m=a.getBoundingClientRect();h.width=m.width*u,h.height=m.height*u;const y=h.getContext("2d");y.fillStyle="#FAFAFA",y.fillRect(0,0,m.width*u,m.height*u),y.drawImage(c,0,0,m.width*u,m.height*u);let S=h.toDataURL("image/png");s&&s(S),i&&d(S,"graph.png")};var l="data:image/svg+xml; charset=utf8, "+encodeURIComponent(f(a));o(),c.src=l;function d(h,m){var y=document.createElement("a");typeof y.download=="string"?(document.body.appendChild(y),y.download=m,y.href=h,y.click(),document.body.removeChild(y)):location.replace(h)}function f(h){const m="http://www.w3.org/2000/xmlns/",y="http://www.w3.org/1999/xlink",S="http://www.w3.org/2000/svg";h=h.cloneNode(!0);const w=window.location.href+"#",C=document.createTreeWalker(h,NodeFilter.SHOW_ELEMENT,null,!1);for(;C.nextNode();)for(const z of C.currentNode.attributes)z.value.includes(w)&&(z.value=z.value.replace(w,"#"));return h.setAttributeNS(m,"xmlns",S),h.setAttributeNS(m,"xmlns:xlink",y),new XMLSerializer().serializeToString(h)}}getTextWidth(n,{fontSize:e=14,fontWeight:r=400,defaultFont:i="Helvetice",ctx:o}={}){return o.font=`${r||""} ${e}px ${i} `,o.measureText(n).width}};const nd=.7,rd=112,id=248,od=10,sd=60,ad=70,ld='"Montserrat", sans-serif',cd=90,ud=90,tt={INITIAL_ZOOM:nd,NODE_HEIGHT:rd,NODE_WIDTH:id,NODE_PADDING:od,CHILDREN_MARGIN:sd,COMPACT_MARGIN:ad,FONT_FAMILY:ld,IMAGE_HEIGHT:cd,IMAGE_WIDTH:ud},St="Employee",Dt="Department",ze="Warehouse",Be="Master",Ot={filterList(t,n){return t.filter(e=>{const r=e.firstName+" "+e.lastName+" - "+e.position,i=d=>d.trim().toLowerCase().startsWith(n==null?void 0:n.toLowerCase()),o=e.name&&i(e.name),s=e.firstName&&i(e.firstName),a=e.department&&i(e.department),u=e.lastName&&i(e.lastName),c=e.position&&i(e.position),l=r&&i(r);return o||s||a||u||c||l})},checkForInt(t){return t===null||t==""?!0:/^\d+$/.test(t)},checkValidInput(t,n,e){return!t||!n.nodeType||!e?!1:t.firstName&&t.lastName&&t.position&&t&&n&&this.checkForInt(t.phoneNumber)&&this.checkForInt(t.extension)},checkEditValid(t,n,e){return!t||!n.nodeType||!e||t.email&&t.email.includes("@")?!1:t.firstName&&t.lastName&&t.position&&this.checkForInt(t.phoneNumber)&&this.checkForInt(t.extension)},setupEmptyEmp(){return{firstName:"",lastName:"",parentId:"",id:"",position:"",location:"",email:"",department:"",additionalInfo:"",phoneNumber:"",extension:"",version:"",employeeRid:"",kind:""}}};const dd={name:"SearchBar",props:{employeeList:{type:Array,required:!0},chart:{required:!0,type:Object},detailsPopup:{required:!0,type:Function},setSelectedEmployee:{required:!0,type:Function}},data(){return{input:yt(""),NODE_TYPE_EMPLOYEE:St}},computed:{filteredList(){return Ot.filterList(this.employeeList,this.input)}},methods:{selectedEmployee(t){this.detailsPopup("close"),this.setSelectedEmployee(t)},detailsCard(t){this.setSelectedEmployee(t),this.detailsPopup("open")}}},hd={id:"search-bar"},fd={class:"input-container"},pd=g("span",{class:"material-icons"},"close",-1),md=[pd],gd={id:"container-results"},yd={key:0},_d=["onClick"],xd={key:0},vd=["onClick"],wd={key:1},Ed={key:0},bd={key:1,class:"search-results-employees error"},kd=g("p",null,"No results found!",-1),Sd=[kd];function Ad(t,n,e,r,i,o){return E(),k("div",hd,[g("div",fd,[ht(g("input",{"onUpdate:modelValue":n[0]||(n[0]=s=>i.input=s),class:"input",type:"text",placeholder:"Search by Name or Department"},null,512),[[ft,i.input]]),i.input?(E(),k("button",{key:0,class:"clear-button",onClick:n[1]||(n[1]=s=>i.input="")},md)):N("",!0)]),g("div",gd,[i.input!=""?(E(),k("div",yd,[(E(!0),k(yr,null,_r(o.filteredList,s=>(E(),k("div",{key:s,class:"search-results-employees",onClick:a=>o.selectedEmployee(s)},[s.nodeType===i.NODE_TYPE_EMPLOYEE?(E(),k("div",xd,[G(O(s.firstName)+" "+O(s.lastName)+" - "+O(s.position)+" ",1),g("span",{class:"material-icons details-icon",onClick:Ei(a=>o.detailsCard(s),["stop"])}," menu ",8,vd)])):(E(),k("div",wd,[G(O(s.name)+" ",1),s.location&&s.location!=s.name?(E(),k("span",Ed," - "+O(s.location),1)):N("",!0)]))],8,_d))),128))])):N("",!0),i.input&&!o.filteredList.length?(E(),k("div",bd,Sd)):N("",!0)])])}const Cd=nt(dd,[["render",Ad]]);function Fe(t,n){const e=document.querySelector(t),r=document.querySelector(n);var i=!1,o,s,a,u,c=0,l=0;r.addEventListener("touchstart",d,!1),r.addEventListener("touchend",f,!1),r.addEventListener("touchmove",h,!1),r.addEventListener("mousedown",d,!1),r.addEventListener("mouseup",f,!1),r.addEventListener("mousemove",h,!1);function d(y){y.type==="touchstart"?(a=y.touches[0].clientX-c,u=y.touches[0].clientY-l):(a=y.clientX-c,u=y.clientY-l),y.target===e&&(i=!0)}function f(){a=o,u=s,i=!1}function h(y){i&&(y.preventDefault(),y.type==="touchmove"?(o=y.touches[0].clientX-a,s=y.touches[0].clientY-u):(o=y.clientX-a,s=y.clientY-u),c=o,l=s,m(o,s,e))}function m(y,S,w){w.style.transform="translate3d("+y+"px, "+S+"px, 0)"}}const Nd={name:"PopupWindow",props:{employee:{required:!0,type:Object},detailsPopup:{required:!0,type:Function},manager:{required:!0,validator:t=>typeof t=="object"||t===""},editAddTrigger:{required:!0,type:Function},editingTrigger:{required:!0,type:Function},token:{required:!1,type:String,default:null}},data(){return{constants:tt,additionalInfo:!1,NODE_TYPE_EMPLOYEE:St}},mounted(){Fe("#card","#container")}},At=t=>(ne("data-v-83f895bc"),t=t(),re(),t),Td={id:"card"},Md=At(()=>g("span",{class:"material-icons"},"edit",-1)),Rd=[Md],$d=At(()=>g("span",{class:"material-icons"},"close",-1)),Dd=[$d],Od=["src"],Id={class:"name"},Pd={class:"pos-name"},zd={class:"card-body"},Bd={key:0,class:"card-item"},Fd=At(()=>g("p",{class:"card-item-label"}," Manager: ",-1)),Ld={class:"card-item-value"},Ud={key:1,class:"card-item"},Hd=At(()=>g("p",{class:"card-item-label"}," Location: ",-1)),qd={class:"card-item-value"},Xd={key:2,class:"card-item"},Yd=At(()=>g("p",{class:"card-item-label"}," Phone: ",-1)),Wd={class:"card-item-value"},jd={key:0,class:"card-item-value"},Vd={key:3,class:"card-item"},Jd=At(()=>g("p",{class:"card-item-label"}," Email: ",-1)),Gd={class:"card-item-value"},Kd={key:4,class:"card-item"},Zd=At(()=>g("p",{class:"card-item-label"}," Department: ",-1)),Qd={class:"card-item-value"},th={key:5,class:"card-item"},eh=At(()=>g("p",{class:"card-item-label"}," Additional Info: ",-1)),nh={key:2,style:{width:"100%"},class:"card-item-value des"};function rh(t,n,e,r,i,o){return E(),k("div",Td,[e.token?(E(),k("button",{key:0,class:"popup-edit btn",style:{left:"10px"},onClick:n[0]||(n[0]=()=>{e.detailsPopup("close"),e.editAddTrigger("close"),e.editingTrigger("open"),e.editAddTrigger("open")})},Rd)):N("",!0),g("button",{class:"close btn",onClick:n[1]||(n[1]=()=>{i.additionalInfo=!1,e.detailsPopup("close")})},Dd),g("img",{class:"image",src:e.employee.imageUrl},null,8,Od),g("p",Id,O(e.employee.firstName)+" "+O(e.employee.lastName),1),g("div",Pd,O(e.employee.position),1),g("div",zd,[e.manager.nodeType===i.NODE_TYPE_EMPLOYEE?(E(),k("div",Bd,[Fd,g("p",Ld,O(e.manager.firstName)+" "+O(e.manager.lastName),1)])):N("",!0),e.employee.location?(E(),k("div",Ud,[Hd,g("p",qd,O(e.employee.location),1)])):N("",!0),e.employee.phoneNumber?(E(),k("div",Xd,[Yd,g("div",Wd,[G(O(e.employee.phoneNumber)+" ",1),e.employee.extension?(E(),k("span",jd," ext("+O(e.employee.extension)+") ",1)):N("",!0)])])):N("",!0),e.employee.email?(E(),k("div",Vd,[Jd,g("p",Gd,O(e.employee.email)+"@dundermifflin.com ",1)])):N("",!0),e.employee.department?(E(),k("div",Kd,[Zd,g("p",Qd,O(e.employee.department),1)])):N("",!0),e.employee.additionalInfo?(E(),k("div",th,[eh,i.additionalInfo?N("",!0):(E(),k("span",{key:0,class:"material-icons dots",onClick:n[2]||(n[2]=s=>i.additionalInfo=!0)},"more_horiz")),i.additionalInfo?(E(),k("div",{key:1,class:"material-icons dots",onClick:n[3]||(n[3]=s=>i.additionalInfo=!1)}," expand_less ")):N("",!0),i.additionalInfo?(E(),k("p",nh,O(e.employee.additionalInfo),1)):N("",!0)])):N("",!0)])])}const ih=nt(Nd,[["render",rh],["__scopeId","data-v-83f895bc"]]);const oh={name:"SelectManager",props:{editEmp:{required:!1,type:Object,default:function(){return{id:0,nodeType:!1}}},currentActiveEmp:{required:!1,type:Object,default:function(){return{id:0,nodeType:!1}}},attemptedNext:{required:!1,type:Boolean,default:!1}},data(){return{managerMessage:!1,NODE_TYPE_EMPLOYEE:St,NODE_TYPE_DEPARTMENT:Dt,NODE_TYPE_MASTER:Be,NODE_TYPE_WAREHOUSE:ze}},watch:{currentActiveEmp:{handler(t){Object.keys(t).length&&(this.managerMessage=!1)}}}},sh={class:"add-card-item"},ah={class:"add-item-label"},lh={key:0,class:"error-text"},ch={key:1,class:"error-text"},uh={key:2,class:"error-text"},dh={key:0},hh={key:1},fh={key:2,style:{"font-weight":"bold",color:"rgba(128, 128, 128, 0.588)"}};function ph(t,n,e,r,i,o){return E(),k("div",sh,[g("p",ah,[i.managerMessage?(E(),k("span",lh,"Select node from chart")):e.attemptedNext&&!e.currentActiveEmp.nodeType?(E(),k("span",ch,"Node is required ")):e.currentActiveEmp.id===e.editEmp.id?(E(),k("span",uh,"Node assigned to itself. Please assign to a different node. ")):N("",!0)]),g("div",{class:"manager",type:"text",onClick:n[0]||(n[0]=s=>i.managerMessage=!0)},[e.currentActiveEmp.nodeType===i.NODE_TYPE_EMPLOYEE?(E(),k("p",dh,O(e.currentActiveEmp.firstName)+" "+O(e.currentActiveEmp.lastName),1)):e.currentActiveEmp.nodeType===i.NODE_TYPE_DEPARTMENT|e.currentActiveEmp.nodeType===i.NODE_TYPE_WAREHOUSE|e.currentActiveEmp.nodeType===i.NODE_TYPE_MASTER?(E(),k("p",hh,O(e.currentActiveEmp.name),1)):(E(),k("p",fh," Select Node from Chart "))])])}const Rn=nt(oh,[["render",ph],["__scopeId","data-v-55fddea2"]]);const mh={name:"DeleteEmployee",components:{SelectManager:Rn},props:{data:{required:!0,type:Array},delTrigger:{required:!0,type:Function},currentActiveEmp:{required:!0,type:Object},setLoadingSpinner:{required:!0,type:Function}},data(){return{NODE_TYPE_DEPARTMENT:Dt,NODE_TYPE_EMPLOYEE:St,error:!1}},watch:{currentActiveEmp:{handler(t){t.nodeType===St||t.nodeType===Dt?this.error=!1:this.error=!0}}},mounted(){Fe("#del-card","#container")},methods:{async next(){try{if(!this.currentActiveEmp||!this.currentActiveEmp.parentId||this.currentActiveEmp.nodeType===Be||this.currentActiveEmp.nodeType===ze){this.error=!0;return}if(this.setLoadingSpinner(!0),(await kt.post("/api/delete_node",{id:this.currentActiveEmp.id,parent_id:this.currentActiveEmp.parentId})).data===0)throw Error("Return value from delete_node was 0.");location.reload()}catch(t){console.error(t)}this.setLoadingSpinner(!1)}}},gh={id:"del-card",style:{"align-items":"center","justify-content":"center"}},yh=g("span",{class:"material-icons"},"close",-1),_h=[yh],xh=g("h1",{style:{"padding-inline":"1rem","font-size":"1.5rem"}}," Select the Node to Delete. ",-1),vh=g("p",{style:{"padding-top":"1rem","padding-bottom":"1rem"}}," Note: Deleting a node is a permanent action. If you delete a node, all other nodes who reported to them will be reassigned to the deleted node's manager. ",-1),wh={key:0,style:{color:"red","padding-bottom":"1rem"}};function Eh(t,n,e,r,i,o){const s=W("SelectManager");return E(),k("div",gh,[g("button",{class:"close btn",onClick:n[0]||(n[0]=a=>e.delTrigger("close"))},_h),xh,vh,i.error?(E(),k("h2",wh," Error: Must Select an Employee or Department ")):N("",!0),Pt(s,{"current-active-emp":e.currentActiveEmp},null,8,["current-active-emp"]),g("button",{class:"next btn",style:{"margin-top":"1rem"},onClick:n[1]||(n[1]=a=>o.next())}," Delete ")])}const bh=nt(mh,[["render",Eh]]),xi="/org-chart/assets/logo-021206b6.png";const F=t=>(ne("data-v-b827655d"),t=t(),re(),t),kh={class:"sidebar"},Sh=F(()=>g("div",{class:"logo"},[g("img",{src:xi,alt:"CCS"})],-1)),Ah=F(()=>g("span",{class:"material-icons"},"keyboard_double_arrow_right",-1)),Ch=[Ah],Nh=F(()=>g("h3",null,"Menu",-1)),Th={class:"menu"},Mh=F(()=>g("span",{class:"material-icons"},"expand",-1)),Rh=F(()=>g("span",{class:"text"},"Expand All",-1)),$h=[Mh,Rh],Dh={class:"menu"},Oh=F(()=>g("span",{class:"material-icons"},"close_fullscreen",-1)),Ih=F(()=>g("span",{class:"text"},"Collapse All",-1)),Ph=[Oh,Ih],zh={class:"menu"},Bh=F(()=>g("span",{class:"material-icons"},"align_space_even",-1)),Fh=F(()=>g("span",{class:"text"},"Position Chart",-1)),Lh=[Bh,Fh],Uh={key:0,class:"menu"},Hh=F(()=>g("span",{class:"material-icons"},"person_add",-1)),qh=F(()=>g("span",{class:"text"},"Add Employee",-1)),Xh=[Hh,qh],Yh={key:1,class:"menu"},Wh=F(()=>g("span",{class:"material-icons"},"add_to_photos",-1)),jh=F(()=>g("span",{class:"text"},"Add Department",-1)),Vh=[Wh,jh],Jh={key:2,class:"menu"},Gh=F(()=>g("span",{class:"material-icons"},"delete",-1)),Kh=F(()=>g("span",{class:"text"},"Delete",-1)),Zh=[Gh,Kh],Qh={class:"menu"},tf=F(()=>g("span",{class:"material-icons"},"save",-1)),ef=F(()=>g("span",{class:"text"},"Save Image",-1)),nf=[tf,ef],rf=F(()=>g("div",{class:"flex"},null,-1)),of=F(()=>g("span",{class:"material-icons"},"info",-1)),sf=F(()=>g("span",{class:"text"},"About",-1)),af={key:3,class:"menu"},lf=F(()=>g("span",{class:"material-icons"},"logout",-1)),cf=F(()=>g("span",{class:"text"},"Logout",-1)),uf=[lf,cf],Vt=yt(localStorage.getItem("menu_is_expanded")==="true"),mr=yt(localStorage.getItem("loc_is_expanded")==="true"),gr=yt(localStorage.getItem("dep_is_expanded")==="true"),df={name:"VueSidebar",props:{chart:{required:!0,type:Object},currentActiveEmp:{required:!0,type:Object},resetView:{required:!0,type:Function},delTrigger:{required:!0,type:Function},editAddTrigger:{required:!0,type:Function},editing:{required:!0,type:Object},editingTrigger:{required:!0,type:Function},addDepTrigger:{required:!0,type:Function},detailsPopup:{required:!0,type:Function},locations:{required:!0,type:Array},departments:{required:!0,type:Array},token:{required:!1,type:String,default:null}},data(){return{filter:""}},async created(){this.filter=this.$route.params.filter},methods:{closeAll(){this.editAddTrigger("close"),this.delTrigger("close"),this.editingTrigger("close"),this.detailsPopup("close")},async updateMaster(){this.filter=":filter",await this.$router.push("/:filter"),location.reload()},async updateFilter(t){this.filter=this.stringToURL(t),await this.$router.push(`/${this.filter}`),location.reload()},stringToURL(t){return encodeURIComponent(t.toLowerCase())},URLToString(t){return decodeURIComponent(t).replace(/\b\w/g,n=>n.toUpperCase())},async logOut(){await kt.post("/api/logout"),localStorage.removeItem("token"),localStorage.removeItem("userName"),location.reload()}}},hf=Object.assign(df,{setup(t){const n=()=>{Vt.value=!Vt.value,localStorage.setItem("menu_is_expanded",Vt.value),!Vt.value&&(mr.value||gr.value)&&(mr.value=!1,localStorage.setItem("loc_is_expanded",!1),gr.value=!1,localStorage.setItem("dep_is_expanded",!1))};return(e,r)=>{const i=W("router-link");return E(),k("div",kh,[g("aside",{class:xr(`${Vt.value?"menu_is-expanded":""}`)},[Sh,g("div",{class:"menu-toggle-wrap"},[g("button",{class:"menu-toggle",onClick:n},Ch)]),Nh,g("div",Th,[g("button",{class:"button",onClick:r[0]||(r[0]=o=>t.chart.expandAll())},$h)]),g("div",Dh,[g("button",{class:"button",onClick:r[1]||(r[1]=o=>t.chart.collapseAll())},Ph)]),g("div",zh,[g("button",{class:"button",onClick:r[2]||(r[2]=o=>t.resetView(t.currentActiveEmp.id))},Lh)]),!t.departments.includes(e.URLToString(e.filter))&&t.token?(E(),k("div",Uh,[g("button",{class:"button",onClick:r[3]||(r[3]=()=>{t.editAddTrigger("close"),t.editingTrigger("close"),t.editAddTrigger("open")})},Xh)])):N("",!0),!t.departments.includes(e.URLToString(e.filter))&&t.token?(E(),k("div",Yh,[g("button",{class:"button",onClick:r[4]||(r[4]=o=>(t.addDepTrigger("close"),t.addDepTrigger("open")))},Vh)])):N("",!0),!t.departments.includes(e.URLToString(e.filter))&&t.token?(E(),k("div",Jh,[g("button",{class:"button",onClick:r[5]||(r[5]=o=>t.delTrigger("open"))},Zh)])):N("",!0),g("div",Qh,[g("button",{class:"button",onClick:r[6]||(r[6]=o=>t.chart.exportImg())},nf)]),rf,g("div",{class:"menu",onClick:r[7]||(r[7]=o=>e.closeAll())},[Pt(i,{to:"/about",class:"button"},{default:bi(()=>[of,sf]),_:1})]),t.token?(E(),k("div",af,[g("button",{class:"button",onClick:r[8]||(r[8]=()=>{e.closeAll(),e.logOut()})},uf)])):N("",!0)],2)])}}}),ff=nt(hf,[["__scopeId","data-v-b827655d"]]),vi="/org-chart/assets/0-85b6d2e8.jpeg";const pf={name:"EditorAdder",components:{SelectManager:Rn},props:{chart:{required:!0,type:Object},editAddTrigger:{required:!0,type:Function},setCurrentActiveEmployee:{required:!0,type:Function},detailsPopup:{required:!0,type:Function},currentActiveEmp:{required:!0,type:Object},editing:{required:!0,type:Object},postChangeEmployee:{required:!0,type:Function},editingTrigger:{required:!0,type:Function},employeeMap:{required:!0,type:Object},returnAllChildren:{required:!0,type:Function},controlError:{required:!0,type:Function},setLoadingSpinner:{required:!0,type:Function},updateChart:{required:!0,type:Function}},data(){var t="input";return{editEmp:Ot.setupEmptyEmp(),setManager:null,inputBoxWindow:t,copyEmp:Ot.setupEmptyEmp(),imageFile:null,imageUrl:null,maxSize:1048576,constants:tt,attemptedNext:!1,inactiveManagerError:!1,managerMessage:!1,NODE_TYPE_EMPLOYEE:St,NODE_TYPE_DEPARTMENT:Dt,NODE_TYPE_MASTER:Be,NODE_TYPE_WAREHOUSE:ze}},watch:{currentActiveEmp:{handler(t){Object.keys(t).length&&(this.managerMessage=!1,this.inactiveManagerError=!1,this.controlError(!1,""))}}},mounted(){Fe("#edit-card","#container"),this.editing.status&&(this.editEmp={...this.currentActiveEmp},this.copyEmp={...this.currentActiveEmp},this.currentActiveEmp.parentId!==null&&this.setCurrentActiveEmployee(this.employeeMap.get(this.currentActiveEmp.parentId)))},methods:{checkForInt:Ot.checkForInt,checkValidInput:Ot.checkValidInput,checkEditValid:Ot.checkEditValid,next(){this.inputBoxWindow==="input"&&this.checkEditValid(this.editEmp,this.currentActiveEmp,Array.from(this.employeeMap.values()),this.copyEmp)&&this.currentActiveEmp.id!==this.editEmp.id?(this.setManager=this.currentActiveEmp,this.inputBoxWindow="review"):this.attemptedNext=!0},async saveNewEmployee(){this.setLoadingSpinner(!0);var t;try{const{firstName:e,lastName:r,position:i,email:o,department:s,additionalInfo:a,phoneNumber:u,extension:c}=this.editEmp;t=this.setManager.id;const l=this.setManager.location;var n="jpeg";this.imageFile&&(n=this.imageFile.type.split("/")[1]);const d=await kt.post("/api/add_employee",{first_name:e,last_name:r,parent_id:t,position:i,email:o,location:l,department:s,additional_info:a,phone_number:u,extension:c,kind:n});if(!Object.hasOwnProperty.call(d.data,"org_rid")||!Object.hasOwnProperty.call(d.data,"emp_rid"))throw new Error("Did not return the correct data");if(this.imageFile)await this.minioUploadImage(this.imageFile,d.data.org_rid);else{const h=await kt.get("../../assets/0.jpeg",{responseType:"blob"});this.imageUrl=URL.createObjectURL(h.data)}const f={firstName:e,lastName:r,parentId:t,id:d.data.org_rid,position:i,department:s,additionalInfo:a,email:o,extension:c,employeeRid:d.data.emp_rid,phoneNumber:u,location:l,kind:n,imageUrl:this.imageUrl,nodeType:St};this.editAddTrigger("close"),this.employeeMap.set(d.data.org_rid,f),this.postChangeEmployee(f)}catch(e){this.checkReturnValue(e.response,t)&&console.error("Error when adding Employee: ",e)}this.setLoadingSpinner(!1)},async saveEdit(){this.setLoadingSpinner(!0);var t=!1;try{var{firstName:n,lastName:e,position:r,email:i,department:o,additionalInfo:s,phoneNumber:a,extension:u,id:c,employeeRid:l,kind:d}=this.editEmp,f=null;this.setManager.id!==this.editEmp.parentId&&(t=!0,this.editEmp.parentId=this.setManager.id,f=this.setManager.location),this.imageUrl&&(this.editEmp.imageUrl=this.imageUrl,d=this.imageFile.type.split("/")[1],this.editEmp.kind=d);const h=this.returnAllChildren(new Set,[this.editEmp]).filter(y=>y.id!==this.editEmp.id).map(y=>y.id);if(h.includes(this.editEmp.parentId)){this.detailsPopup("close"),this.setCurrentActiveEmployee({}),this.inputBoxWindow="input",this.attemptedNext=!0,this.controlError(!0,"Error: Cannot set child as parent"),this.setLoadingSpinner(!1);return}if((await kt.post("/api/edit_employee",{first_name:n,last_name:e,parent_id:this.editEmp.parentId??null,position:r,email:i,department:o,additional_info:s,phone_number:a,extension:u,kind:d,id:c,employee_rid:l,location_name:f??this.editEmp.location,children_ids:h})).data!==2+h.length)throw new Error("Incorrect number of rows updated");this.imageUrl&&await this.minioUploadImage(this.imageFile,c),this.editingTrigger("close"),this.editAddTrigger("close"),this.employeeMap.delete(c),this.employeeMap.set(c,this.editEmp)}catch(h){this.checkReturnValue(h.response,this.editEmp.parentId)&&console.error("Error when Editing Employees: ",h)}!this.inactiveManagerError&&t&&(localStorage.setItem("moveEmp",this.editEmp.id),location.reload()),this.updateChart(),this.setLoadingSpinner(!1)},checkReturnValue(t,n){if(t.status===422)return this.detailsPopup("close"),this.setCurrentActiveEmployee({}),this.inputBoxWindow="input",this.chart.removeNode(n),this.employeeMap.delete(n),this.inactiveManagerError=!0,this.attemptedNext=!0,this.controlError(!0,t.data.detail),this.setLoadingSpinner(!1),!0},handleFileUpload(t){const n=t.target.files[0];n&&(n.type.match("image.*")?n.size>this.maxSize?console.error("Your file is too big! Please select an image under 1MB"):(this.imageUrl=URL.createObjectURL(n),this.imageFile=n):console.error("Please choose an image file"))},async minioUploadImage(t,n){try{const e=new File([t],n+"."+t.type.split("/")[1],{type:t.type}),r=new FormData;if(r.append("image",e),(await kt.post("/api/upload_picture",r,{headers:{accept:"application/json","Accept-Language":"en-US,en;q=0.8","Content-Type":"multipart/form-data"}})).status!==200)throw new Error("Error uploading image")}catch(e){console.error(e)}}}},Y=t=>(ne("data-v-5b2c4eb5"),t=t(),re(),t),mf={id:"edit-card"},gf=Y(()=>g("span",{class:"material-icons"},"close",-1)),yf=[gf],_f={key:0},xf={key:0,class:"add-title"},vf={key:1,class:"add-title"},wf={class:"add-card-body",style:{"margin-bottom":"10px","padding-bottom":"10px"}},Ef={class:"add-card-item center"},bf=["src"],kf=["src"],Sf=["src"],Af=Y(()=>g("button",{class:"image-upload btn",onclick:"document.getElementById('file-upload').click()"}," Add Photo ",-1)),Cf=Y(()=>g("p",{style:{"padding-top":"10px"}}," Fields marked with * are mandatory. ",-1)),Nf=Y(()=>g("p",null," Must use internal email and phone number. ",-1)),Tf={key:0},Mf=Y(()=>g("p",{class:"add-item-label"}," Manager* ",-1)),Rf={class:"add-card-item"},$f={class:"add-item-label"},Df={key:0,class:"error-text"},Of={class:"add-card-item"},If={class:"add-item-label"},Pf={key:0,class:"error-text"},zf={class:"add-card-item"},Bf={class:"add-item-label"},Ff={key:0,class:"error-text"},Lf={class:"add-card-item"},Uf={class:"add-item-label"},Hf={key:0,class:"error-text"},qf={class:"add-card-item"},Xf={class:"add-item-label"},Yf={key:0,class:"error-text"},Wf={class:"add-card-item"},jf={class:"add-item-label"},Vf={key:0,class:"error-text"},Jf={style:{display:"flex","align-items":"center","font-size":"1em"}},Gf=Y(()=>g("p",{style:{"margin-left":"0.5rem","font-size":"1em"}}," @dundermifflin.com ",-1)),Kf={class:"add-card-item"},Zf=Y(()=>g("p",{class:"add-item-label"}," Department: ",-1)),Qf={class:"add-card-item"},tp=Y(()=>g("p",{class:"add-item-label"}," Additional Info: ",-1)),ep={key:1,class:"error-text",style:{"margin-top":"20px"}},np={class:"add-save-btn-container"},rp={key:1},ip=["src"],op=["src"],sp={key:2,class:"input-image",src:vi},ap={class:"review-name"},lp={class:"review-pos"},cp={class:"review-body"},up={key:0,class:"review-item"},dp={key:0,class:"review-item-label"},hp={class:"review-item-value"},fp={class:"review-item"},pp=Y(()=>g("p",{class:"review-item-label"}," Position: ",-1)),mp={class:"review-item-value"},gp={class:"review-item"},yp=Y(()=>g("p",{class:"review-item-label"}," Phone: ",-1)),_p={class:"review-item-value"},xp={key:0,class:"review-item-value"},vp={class:"review-item"},wp=Y(()=>g("p",{class:"review-item-label"}," Email: ",-1)),Ep={key:0,class:"review-item-value"},bp={class:"review-item"},kp=Y(()=>g("p",{class:"review-item-label"}," Department: ",-1)),Sp={class:"review-item-value"},Ap={class:"review-item"},Cp=Y(()=>g("p",{class:"review-item-label"}," Additional Info: ",-1)),Np={class:"review-item-value"},Tp={class:"add-save-btn-container"},Mp=Y(()=>g("div",{style:{width:"2rem"}},null,-1));function Rp(t,n,e,r,i,o){const s=W("SelectManager");return E(),k("div",mf,[g("button",{class:"close btn",onClick:n[0]||(n[0]=()=>{e.editingTrigger("close"),e.editAddTrigger("close"),i.attemptedNext=!1})},yf),i.inputBoxWindow==="input"?(E(),k("div",_f,[e.editing.status?(E(),k("div",xf," Edit Employee Details: ")):(E(),k("div",vf," Add Employee Details: ")),g("div",wf,[g("div",Ef,[i.imageUrl?(E(),k("img",{key:0,class:"input-image",src:i.imageUrl},null,8,bf)):i.editEmp.imageUrl?(E(),k("img",{key:1,class:"input-image",src:i.editEmp.imageUrl},null,8,kf)):i.editEmp.rid?(E(),k("img",{key:2,class:"input-image",src:i.editEmp.imageUrl},null,8,Sf)):N("",!0),Af,g("input",{id:"file-upload",style:{display:"none"},type:"file",accept:"image/png, image/jpeg, image/jpg",onChange:n[1]||(n[1]=(...a)=>o.handleFileUpload&&o.handleFileUpload(...a))},null,32)]),Cf,Nf,i.copyEmp.parentId||!e.editing.status?(E(),k("div",Tf,[Mf,Pt(s,{"current-active-emp":e.currentActiveEmp,"attempted-next":i.attemptedNext,"edit-emp":i.editEmp},null,8,["current-active-emp","attempted-next","edit-emp"])])):N("",!0),g("div",Rf,[g("p",$f,[G(" First Name* "),!i.editEmp.firstName&&i.attemptedNext?(E(),k("span",Df,"First name is required ")):N("",!0)]),ht(g("textarea",{id:"firstName","onUpdate:modelValue":n[2]||(n[2]=a=>i.editEmp.firstName=a),class:"add-item-input",type:"text"},null,512),[[ft,i.editEmp.firstName]])]),g("div",Of,[g("p",If,[G(" Last Name* "),!i.editEmp.lastName&&i.attemptedNext?(E(),k("span",Pf," Last name is required ")):N("",!0)]),ht(g("textarea",{id:"lastName","onUpdate:modelValue":n[3]||(n[3]=a=>i.editEmp.lastName=a),class:"add-item-input",type:"text"},null,512),[[ft,i.editEmp.lastName]])]),g("div",zf,[g("p",Bf,[G(" Position* "),!i.editEmp.position&&i.attemptedNext?(E(),k("span",Ff,"Position is required")):N("",!0)]),ht(g("textarea",{id:"position","onUpdate:modelValue":n[4]||(n[4]=a=>i.editEmp.position=a),class:"add-item-input",type:"text"},null,512),[[ft,i.editEmp.position]])]),g("div",Lf,[g("p",Uf,[G(" Phone Ext: "),!o.checkForInt(i.editEmp.extension)&&i.attemptedNext?(E(),k("span",Hf,"Must only contain numbers")):N("",!0)]),ht(g("textarea",{id:"phoneExt","onUpdate:modelValue":n[5]||(n[5]=a=>i.editEmp.extension=a),class:"add-item-input",type:"text"},null,512),[[ft,i.editEmp.extension]])]),g("div",qf,[g("p",Xf,[G(" Phone: "),!o.checkForInt(i.editEmp.phoneNumber)&&i.attemptedNext?(E(),k("span",Yf,"Must only contain numbers")):N("",!0)]),ht(g("textarea",{id:"phoneNumber","onUpdate:modelValue":n[6]||(n[6]=a=>i.editEmp.phoneNumber=a),class:"add-item-input",type:"text"},null,512),[[ft,i.editEmp.phoneNumber]])]),g("div",Wf,[g("p",jf,[G(" Email: "),i.editEmp.email&&i.editEmp.email.includes("@")&&i.attemptedNext?(E(),k("span",Vf,"Must only use @dundermifflin.com Email")):N("",!0)]),g("div",Jf,[ht(g("textarea",{id:"email","onUpdate:modelValue":n[7]||(n[7]=a=>i.editEmp.email=a),class:"add-item-input",type:"text"},null,512),[[ft,i.editEmp.email]]),Gf])]),g("div",Kf,[Zf,ht(g("textarea",{id:"department","onUpdate:modelValue":n[8]||(n[8]=a=>i.editEmp.department=a),class:"add-item-input",type:"text"},null,512),[[ft,i.editEmp.department]])]),g("div",Qf,[tp,ht(g("textarea",{id:"additionalInfo","onUpdate:modelValue":n[9]||(n[9]=a=>i.editEmp.additionalInfo=a),class:"add-item-input",type:"text"},null,512),[[ft,i.editEmp.additionalInfo]])]),o.checkEditValid(i.editEmp,e.currentActiveEmp,Array.from(e.employeeMap.values()),i.copyEmp)?N("",!0):(E(),k("div",ep," Error above "))]),g("div",null,[g("div",np,[g("button",{class:"next btn",onClick:n[10]||(n[10]=a=>o.next())}," Next ")])])])):N("",!0),i.inputBoxWindow==="review"?(E(),k("div",rp,[i.imageUrl?(E(),k("img",{key:0,class:"input-image",src:i.imageUrl},null,8,ip)):i.editEmp.imageUrl?(E(),k("img",{key:1,class:"input-image",src:i.editEmp.imageUrl},null,8,op)):(E(),k("img",sp)),g("div",ap,O(i.editEmp.firstName)+" "+O(i.editEmp.lastName),1),g("div",lp,O(i.editEmp.position),1),g("div",cp,[i.copyEmp.parentId?(E(),k("div",up,[i.setManager.nodeType===i.NODE_TYPE_EMPLOYEE?(E(),k("p",dp," Manager: ")):N("",!0),g("p",hp,O(i.setManager.firstName)+" "+O(i.setManager.lastName),1)])):N("",!0),g("div",fp,[pp,g("p",mp,O(i.editEmp.position),1)]),g("div",gp,[yp,g("p",_p,[G(O(i.editEmp.phoneNumber)+" ",1),i.editEmp.extension?(E(),k("span",xp,"ext("+O(i.editEmp.extension)+")",1)):N("",!0)])]),g("div",vp,[wp,i.editEmp.email?(E(),k("p",Ep,O(i.editEmp.email)+"@dundermifflin.com ",1)):N("",!0)]),g("div",bp,[kp,g("p",Sp,O(i.editEmp.department),1)]),g("div",Ap,[Cp,g("p",Np,O(i.editEmp.additionalInfo),1)])]),g("div",Tp,[g("button",{class:"next btn",style:{"margin-left":"10px"},onClick:n[11]||(n[11]=a=>i.inputBoxWindow="input")}," Back "),Mp,e.editing.status?(E(),k("button",{key:1,class:"next btn",onClick:n[13]||(n[13]=a=>o.saveEdit())}," Save ")):(E(),k("button",{key:0,class:"next btn",onClick:n[12]||(n[12]=a=>o.saveNewEmployee())}," Save "))])])):N("",!0)])}const $p=nt(pf,[["render",Rp],["__scopeId","data-v-5b2c4eb5"]]);const Dp={name:"DepartmentAdder",components:{SelectManager:Rn},props:{data:{required:!0,type:Array},chart:{required:!0,type:Object},detailsPopup:{required:!0,type:Function},currentActiveEmp:{required:!0,type:Object},departments:{required:!0,type:Array},addDepTriggers:{required:!0,type:Function},postChangeEmployee:{required:!0,type:Function},employeeMap:{required:!0,type:Map},setCurrentActiveEmployee:{required:!0,type:Function},controlError:{required:!0,type:Function},setLoadingSpinner:{required:!0,type:Function}},data(){var t="Departments";return{department:t,noDepartError:!1,noManagerError:!1,inactiveManagerError:!1,managerMessage:!1,selectedDepartment:null}},watch:{currentActiveEmp:{handler(t){Object.keys(t).length&&(this.inactiveManagerError=!1,this.controlError(!1,""))}}},mounted(){Fe("#add-dep","#container")},methods:{async addDepartment(){if(this.setLoadingSpinner(!0),!this.currentActiveEmp.nodeType&&this.department==="Departments"){this.noDepartError=!0,this.noManagerError=!0;return}else if(this.currentActiveEmp.nodeType){if(this.department==="Departments"){this.noDepartError=!0,this.noManagerError=!1;return}}else{this.noDepartError=!1,this.noManagerError=!0;return}var t;try{t=this.currentActiveEmp.id;var n="";this.currentActiveEmp.location&&(n=this.currentActiveEmp.location);const e=await kt.post("/api/add_department",{department_name:this.department,parent_rid:this.currentActiveEmp.id,location_name:n}),r={parentId:t,id:e.data,name:this.department,location:n,nodeType:Dt};this.employeeMap.set(e.data,r),this.addDepTriggers("close"),this.postChangeEmployee(r)}catch(e){this.checkReturnValue(e.response,t)&&(this.managerMessage=!1),console.error(e)}this.setLoadingSpinner(!1)},checkReturnValue(t,n){if(t.status===422)return this.setCurrentActiveEmployee({}),this.detailsPopup("close"),this.inputBoxWindow="input",this.chart.removeNode(n),this.employeeMap.delete(n),this.inactiveManagerError=!0,this.controlError(!0,t.data.detail),this.addDepTriggers("close"),this.addDepTriggers("open"),!0},selectDepartment(t){this.department=t,this.selectedDepartment=t}}},$n=t=>(ne("data-v-ed5baefd"),t=t(),re(),t),Op={id:"add-dep"},Ip=$n(()=>g("span",{class:"material-icons"},"close",-1)),Pp=[Ip],zp=$n(()=>g("h1",null,"Add Department",-1)),Bp={class:"add-card-item"},Fp={style:{"font-size":"1.4rem"}},Lp={key:0,class:"error-text"},Up={key:1,class:"error-text"},Hp={key:0,class:"error-text"},qp=["onClick"],Xp=$n(()=>g("div",{style:{height:"2rem"}},null,-1));function Yp(t,n,e,r,i,o){const s=W("SelectManager");return E(),k("div",Op,[g("button",{class:"close btn",onClick:n[0]||(n[0]=a=>e.addDepTriggers("close"))},Pp),zp,g("div",null,[g("div",Bp,[g("h2",Fp,[G(" Select Node "),i.inactiveManagerError?(E(),k("span",Lp,"*Must Change ")):N("",!0),i.noManagerError&&!e.currentActiveEmp.nodeType?(E(),k("span",Up,"*Node Required")):N("",!0)]),Pt(s,{style:{width:"20rem","text-align":"center"},"current-active-emp":e.currentActiveEmp},null,8,["current-active-emp"])])]),g("h2",null,[G(" Select Department "),i.noDepartError&&i.department==="Departments"?(E(),k("span",Hp,"*Department Required")):N("",!0)]),(E(!0),k(yr,null,_r(e.departments,a=>(E(),k("button",{key:a,class:xr(["department",{selected:i.selectedDepartment===a}]),onClick:u=>o.selectDepartment(a)},O(a),11,qp))),128)),Xp,g("button",{class:"next btn",onClick:n[1]||(n[1]=(...a)=>o.addDepartment&&o.addDepartment(...a))}," Add ")])}const Wp=nt(Dp,[["render",Yp],["__scopeId","data-v-ed5baefd"]]),jp=ki({name:"LoadingBar",props:{total:{type:Number,default:1},complete:{type:Number,default:1}},computed:{progress(){return(this.complete+this.total/5)/this.total*100},initialOpacity(){return this.progress===0}}});const Vp={class:"screen"},Jp={class:"progress-container"};function Gp(t,n,e,r,i,o){return E(),k("div",Vp,[g("div",Jp,[g("div",{class:"progress-bar",style:Si({width:t.progress+"%",opacity:t.initialOpacity})},null,4)])])}const Kp=nt(jp,[["render",Gp],["__scopeId","data-v-e52b0c5e"]]);const Zp={},Qp=t=>(ne("data-v-4a60acd7"),t=t(),re(),t),tm={class:"screen"},em=Qp(()=>g("div",{class:"loading loading--full-height"},null,-1)),nm=[em];function rm(t,n){return E(),k("div",tm,nm)}const im=nt(Zp,[["render",rm],["__scopeId","data-v-4a60acd7"]]);const om={name:"ErrorPopup",props:{message:{required:!0,type:String}}},sm={class:"error-popup"},am={key:0},lm={key:1};function cm(t,n,e,r,i,o){return E(),k("div",sm,[e.message?(E(),k("p",lm,O(e.message),1)):(E(),k("p",am," Unknown Error "))])}const um=nt(om,[["render",cm]]),dm={0:{name:"Scranton",type:"location",longitude:-75.6624,latitude:41.408969},1:{name:"Akron",type:"location",longitude:-81.519005,latitude:41.081445},2:{name:"Albany",type:"location",longitude:-73.756233,latitude:42.652579},3:{name:"Nashua",type:"location",longitude:-71.467566,latitude:42.765366},4:{name:"New York",type:"location",longitude:-73.986613,latitude:40.73061},5:{name:"Rochester",type:"location",longitude:-77.615214,latitude:43.16103},6:{name:"Syracuse",type:"location",longitude:-76.147423,latitude:43.048122},7:{name:"Utica",type:"location",longitude:-75.232664,latitude:43.100903}},hm={0:{name:"Human Resources",description:"Responsible for employee relations, awkward seminars, and handling office conflicts."},1:{name:"Accounting",description:"Keeps the financial records in check, with occasional excursions into karaoke."},2:{name:"Sales",description:"The relentless sales team led by the one and only Michael Scott."},3:{name:"Warehouse",description:"Handles the heavy lifting and often engages in shenanigans with the office staff."},4:{name:"Reception",description:"The first point of contact at the office"},5:{name:"PPC",description:"(Party Planning Committee) Unofficial department responsible for organizing quirky office parties."},6:{name:"Quality Assurance",description:"Ensures that the paper meets the highest standards, even though nobody really knows what they do."}},fm={111:{parentId:"",firstName:"Michael",lastName:"Scott",position:"Regional Manager",email:"",department:"Sales",additionalInfo:"Michael Scott is the regional manager of Dunder Mifflin Scranton. He is a very enthusiastic boss, and sometimes gets too excited about things. He is known for his awkwardness and lack of social skills.",phone:"570-555-5555",extension:"x100",imageUrl:"https://upload.wikimedia.org/wikipedia/en/d/dc/MichaelScott.png"},112:{parentId:"111",firstName:"Dwight",lastName:"Schrute",position:"Assistant to the Regional Manager",email:"",department:"Sales",additionalInfo:"Dwight Schrute is the assistant to the regional manager of Dunder Mifflin Scranton. He is a very loyal employee, and prides himself on his work ethic. He is known for his lack of social skills and common sense.",phone:"570-555-5555",extension:"x101",imageUrl:"https://upload.wikimedia.org/wikipedia/en/c/cd/Dwight_Schrute.jpg"},113:{parentId:"111",firstName:"Jim",lastName:"Halpert",position:"Sales Representative",email:"",department:"Sales",additionalInfo:"Jim Halpert is a sales representative at Dunder Mifflin Scranton. He is known for his pranks on Dwight, and his relationship with Pam.",phone:"570-555-5555",extension:"x102",imageUrl:"https://upload.wikimedia.org/wikipedia/en/7/7e/Jim-halpert.jpg"},114:{parentId:"111",firstName:"Pam",lastName:"Beesly",position:"Receptionist",email:"",department:"Reception",additionalInfo:"Pam Beesly is the receptionist at Dunder Mifflin Scranton. She is known for her relationship with Jim, and her artistic talents.",phone:"570-555-5555",extension:"x103",imageUrl:"https://upload.wikimedia.org/wikipedia/en/6/67/Pam_Beesley.jpg"},115:{parentId:"111",firstName:"Ryan",lastName:"Howard",position:"Temp",email:"",department:"Reception",additionalInfo:"Ryan Howard is a temp at Dunder Mifflin Scranton. He is known for his relationship with Kelly, and his business school education.",phone:"570-555-5555",extension:"x104",imageUrl:"https://upload.wikimedia.org/wikipedia/en/6/60/Ryan_Howard_%28The_Office%29.jpg"}},wt={location:dm,department:hm,employee:fm};const Dn=yt({status:!1}),On=yt({status:!1}),In=yt({status:!1}),Pn=yt({status:!1}),wi=yt({status:!1}),qt=(t,n)=>{setTimeout(()=>{n==="close"?t.value.status=!1:n==="open"&&(Dn.value!==t.value&&(On.value.status=!1,In.value.status=!1,Pn.value.status=!1),t.value.status=!0)},1)},he=t=>qt(Dn,t),pm=t=>qt(On,t),mm=t=>qt(In,t),gm=t=>qt(Pn,t),ym=t=>qt(wi,t),_m={name:"OrgChart",components:{SearchBar:Cd,PopupWindow:ih,DeleteEmployee:bh,Sidebar:ff,EditorAdder:$p,AddDepartment:Wp,LoadingBar:Kp,ErrorPopup:um,LoadingSpinner:im},setup(){return{detailsPopup:he,delTrigger:pm,editAddTrigger:mm,addDepTrigger:gm,editingTrigger:ym,detailTriggers:Dn,delWindowTriggers:On,editAddWindowTriggers:In,addDepWindowTriggers:Pn,editing:wi,setTrigger:qt}},data(){return{employeeMap:new Map,chart:new Object,pastCurrentActiveEmp:new Object,currentActiveEmp:new Object,currentActiveEmpManager:new Object,manager:new Object,errored:!1,imageUrl:"",loading:!0,loadingSpinner:!1,filter:null,locations:[],departments:[],databaseRecords:[],errorPopup:!1,errorMessage:"",totalPromise:0,finishedPromise:0,version:null,token:localStorage.getItem("token"),userName:localStorage.getItem("userName")}},async created(){const t=decodeURIComponent(this.$route.params.filter).replace(/\b\w/g,n=>n.toUpperCase());this.version=await this.getVersion(),t==="Undefined"||t===":Filter"?(this.filter=null,await this.$router.push("/:filter")):this.filter=t},async mounted(){console.log("locations",wt.location);for(const n in wt.location)this.locations.push(wt.location[n].name);for(const n in wt.department)this.departments.push(wt.department[n].name);for(const n in wt.employee){const e=wt.employee[n];e.imageUrl=e.imageUrl?e.imageUrl:vi,e.id=n,e.parentId===0&&(e.key=""),this.employeeMap.set(e.id,e)}try{this.databaseRecords=wt,console.log("Database Uploaded.",this.databaseRecords);const n=this.databaseRecords.employee;console.log("Employees Uploaded.",n),this.chart=new ed().svgHeight(window.innerHeight).svgWidth(window.innerWidth).container(".chart-container").data(Array.from(this.employeeMap.values())).initialZoom(tt.INITIAL_ZOOM).onNodeClick(e=>{he("close"),this.employeeMap.get(e).nodeType===St&&he("open"),this.setSelectedEmployee(this.employeeMap.get(e))}).nodeHeight(e=>tt.NODE_HEIGHT).nodeWidth(e=>tt.NODE_WIDTH).childrenMargin(e=>tt.CHILDREN_MARGIN).compactMarginPair(e=>tt.COMPACT_MARGIN).nodeContent(e=>{const r=this.employeeMap.get(e.data.id);return r.nodeType===Dt||r.nodeType===ze||r.nodeType===Be?`
              <div class="node-container">
                <div class=image-container>
                  <img class="image" src="${xi}">
                </div>
                <div class=content-container>
                  <div class="node-name">${r.name}</div>
                </div>
              <style>

              .content-container {
                width: 51%;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                margin-left: 0.2rem;
              }

              .image-container {
                height: 100%;
                width: 44%;
                display: flex;
                align-items: center;
                justify-content: center;
              }

              .node-container {
                height: 112px;
                width: 100%;
                background-color: #227c9d;
                color: #227c9d;
                display: flex;
                border-radius: 1rem;
                border: 2px solid white;
              }

              .image {
                width: ${tt.IMAGE_WIDTH}px;
                height: ${tt.IMAGE_HEIGHT}px;
                object-fit: cover;
                border-radius: 50%;
                border: 4px solid white;
                background-color: #808080;
              }

              .node-name {
                color: white;
                font-size: 110%;
                font-weight: bold;
                max-height: 2.8rem;
                width: 100%;
                overflow: hidden;
              }
              </style>
              `:`
          <div class="node-container">
            <div class=image-container>
              <img class="image" src="${r.imageUrl}">
            </div>
            <div class=content-container>
              <div class="node-name">${r.firstName} ${r.lastName}</div>
              <div class="position">${r.position}</div>
              ${r.department?`<div class="department">${r.department}</div>`:""}
            </div>
          <style>

          .content-container {
            width: 51%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-left: 0.2rem;
          }

          .position {
            margin-top: 0.3rem;
            margin-bottom: 0.1rem;
            max-height: 2rem;
            width: 100%;
            padding-bottom: 0.3rem;
            font-size: 0.7rem;
            color: white;
            overflow: hidden;
          }

          .department {
            max-height: 13%;
            padding-inline: 0.7rem;
            max-width: calc(100% - 0.7rem);
            background-color: #ffcb77;
            color: #227c9d;
            border-radius:1rem;
            text-align: center;
            font-size: 70%;
            font-weight: bold;
            overflow: hidden;
          }

          .image-container {
            height: 100%;
            width: 44%;
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .node-container {
            height: 112px;
            width: 100%;
            background-color: #227c9d;
            color: #227c9d;
            display: flex;
            border-radius: 1rem;
            border: 2px solid white;
          }

          .image {
            width: ${tt.IMAGE_WIDTH}px;
            height: ${tt.IMAGE_HEIGHT}px;
            object-fit: cover;
            border-radius: 50%;
            border: 4px solid white;
            background-color: #808080;
          }

          .node-name {
            color: white;
            font-size: 110%;
            font-weight: bold;
            max-height: 2.8rem;
            width: 100%;
            overflow: hidden;
          }
          </style>
        `}),this.chart.render(),console.log("OrgChart Uploaded."),window.addEventListener("resize",()=>{this.chart.svgHeight(window.innerHeight).svgWidth(window.innerWidth).render()})}catch(n){console.error("Error when rendering: ",n),n instanceof TypeError?this.errorMessage=`Error: There is no data to display. Add a '${this.filter}' node to the organization.`:this.errorMessage=n,this.errorPopup=!0}const t=Number(localStorage.getItem("moveEmp"));t&&(this.chart.setCentered(t).setHighlighted(t).render(),localStorage.removeItem("moveEmp")),this.loading=!1},methods:{updateChart(){this.chart.update(Array.from(this.employeeMap.values()))},setLoadingSpinner(t){this.loadingSpinner=t},async getVersion(){return(await kt.get("/api/version")).data},controlError(t,n){this.errorPopup=t,this.errorMessage=n},returnAllChildren(t,n){const e={};this.databaseRecords.data.forEach(i=>{e[i.parent_rid]?e[i.parent_rid].push(i):e[i.parent_rid]=[i]});const r=[];for(;n.length>0;){const i=n.shift();if(!t.has(i.id)){r.push(i),t.add(i.id);const o=e[i.id]??[];n.push(...o)}}return r},setCurrentActiveEmployee(t){this.currentActiveEmp=t},setSelectedEmployee(t){try{this.currentActiveEmp=t,t.nodeType===Dt&&he("close"),t.parentId?this.currentActiveEmpManager=this.employeeMap.get(t.parentId):this.currentActiveEmpManager="",this.chart.setCentered(t.id).render(),this.pastCurrentActiveEmp.id&&this.chart.clearHighlighting(this.pastCurrentActiveEmp.id),this.chart.setHighlighted(t.id).render(),this.pastCurrentActiveEmp=this.currentActiveEmp}catch(n){console.error("Error in setSelectedEmployee: ",n)}},resetView(t){this.chart.fit().render()},postChangeEmployee(t){try{this.chart.addNode(t),this.setSelectedEmployee(t)}catch{console.error("Error in postChangeEmployee")}}}},xm={id:"app"},vm={key:2},wm={key:3},Em={class:"title-bar"},bm={key:0},km={key:1},Sm={id:"container",class:"chart-container"},Am={class:"credentials"},Cm={key:0},Nm={key:1};function Tm(t,n,e,r,i,o){const s=W("LoadingSpinner"),a=W("LoadingBar"),u=W("SearchBar"),c=W("Sidebar"),l=W("PopupWindow"),d=W("EditorAdder"),f=W("AddDepartment"),h=W("DeleteEmployee"),m=W("ErrorPopup");return E(),k("div",xm,[i.loadingSpinner?(E(),Ct(s,{key:0})):N("",!0),i.loading?(E(),Ct(a,{key:1,total:i.totalPromise,complete:i.finishedPromise},null,8,["total","complete"])):N("",!0),i.errored?(E(),k("div",vm," We're sorry, we're not able to retrieve this information at the moment. ")):(E(),k("div",wm,[g("div",Em,[Pt(u,{class:"stack-top","employee-list":Array.from(i.employeeMap.values()),chart:i.chart,"set-selected-employee":o.setSelectedEmployee,"details-popup":r.detailsPopup},null,8,["employee-list","chart","set-selected-employee","details-popup"]),i.filter?(E(),k("h1",bm,O(i.filter)+" Chart ",1)):(E(),k("h1",km," Org Chart "))]),Pt(c,{chart:i.chart,"current-active-emp":i.currentActiveEmp,"reset-view":o.resetView,"del-trigger":r.delTrigger,"edit-add-trigger":r.editAddTrigger,editing:r.editing,"editing-trigger":r.editingTrigger,"add-dep-trigger":r.addDepTrigger,"details-popup":r.detailsPopup,locations:i.locations,departments:i.departments,token:i.token},null,8,["chart","current-active-emp","reset-view","del-trigger","edit-add-trigger","editing","editing-trigger","add-dep-trigger","details-popup","locations","departments","token"]),g("div",Sm,[r.detailTriggers.status?(E(),Ct(l,{key:0,class:"stack-top",employee:i.currentActiveEmp,manager:i.currentActiveEmpManager,"details-popup":r.detailsPopup,"edit-add-trigger":r.editAddTrigger,"editing-trigger":r.editingTrigger,token:i.token},null,8,["employee","manager","details-popup","edit-add-trigger","editing-trigger","token"])):N("",!0),r.editAddWindowTriggers.status?(E(),Ct(d,{key:1,class:"stack-top","post-change-employee":o.postChangeEmployee,chart:i.chart,"current-active-emp":i.currentActiveEmp,"edit-add-trigger":r.editAddTrigger,"set-current-active-employee":o.setCurrentActiveEmployee,"details-popup":r.detailsPopup,"editing-trigger":r.editingTrigger,editing:r.editing,"employee-map":i.employeeMap,"return-all-children":o.returnAllChildren,"control-error":o.controlError,"set-loading-spinner":o.setLoadingSpinner,"update-chart":o.updateChart},null,8,["post-change-employee","chart","current-active-emp","edit-add-trigger","set-current-active-employee","details-popup","editing-trigger","editing","employee-map","return-all-children","control-error","set-loading-spinner","update-chart"])):N("",!0),r.addDepWindowTriggers.status?(E(),Ct(f,{key:2,class:"stack-top",data:Array.from(i.employeeMap.values()),chart:i.chart,"details-popup":r.detailsPopup,"current-active-emp":i.currentActiveEmp,"add-dep-triggers":r.addDepTrigger,departments:i.departments,"post-change-employee":o.postChangeEmployee,"employee-map":i.employeeMap,"set-current-active-employee":o.setCurrentActiveEmployee,"control-error":o.controlError,"set-loading-spinner":o.setLoadingSpinner},null,8,["data","chart","details-popup","current-active-emp","add-dep-triggers","departments","post-change-employee","employee-map","set-current-active-employee","control-error","set-loading-spinner"])):N("",!0),r.delWindowTriggers.status?(E(),Ct(h,{key:3,class:"stack-top",data:Array.from(i.employeeMap.values()),"del-trigger":r.delTrigger,"current-active-emp":i.currentActiveEmp,"set-loading-spinner":o.setLoadingSpinner},null,8,["data","del-trigger","current-active-emp","set-loading-spinner"])):N("",!0),i.errorPopup?(E(),Ct(m,{key:4,message:i.errorMessage},null,8,["message"])):N("",!0),g("div",Am,[i.userName?(E(),k("p",Cm," Signed in: "+O(i.userName),1)):N("",!0),i.version?(E(),k("p",Nm,O(i.version),1)):N("",!0)])])]))])}const $m=nt(_m,[["render",Tm]]);export{$m as default};
